var lenTot,total,imgLey,designStage,drawLayer,segGrp,cornGrp,tGrp,configStage,confLayer,segGrp_c,cornGrp_c,tGrp_c,tooltipGrp_c,exportStage,exportLayer,segGrp_e,cornGrp_e,tGrp_e,tooltipGrp_e,strings=null,locale="en",version="v1.5",universalBOM="\ufeff",projectDef={project:{name:"",room:"",address:"",date:""},contact:{name:"",address:"",country:"",phone:"",email:""},extra:""},lineDef={installation:-1,suslen:-1,color:-1,colorCode:"",led:-1,optics:-1,diffOut:-1,beam:-1},codeList=null,cornersArray=[],segsArray=[],tConnArray=[],configSegs=[],configCorners=[],configTs=[],modules=[];function loadProjectDefData(){projectDef.project.name=$("#pname").val(),projectDef.project.room=$("#proom").val(),projectDef.project.address=$("#paddr").val(),projectDef.project.date=$("#date").val(),projectDef.contact.name=$("#cname").val(),projectDef.contact.address=$("#caddr").val(),projectDef.contact.country=getCountry().name,projectDef.contact.phone=$("#phone").val(),projectDef.contact.email=$("#email").val()}function getCountry(){var t="",e="",n=$("#country :selected").val();switch(n){case"be":t=strings.country_be,e="be";break;case"lu":t=strings.country_lu,e="lu";break;case"fr":t=strings.country_fr,e="fr";break;case"de":t=strings.country_de,e="de";break;case"nl":t=strings.country_nl,e="nl";break;case"pt":t=strings.country_pt,e="pt";break;case"es":t=strings.country_es,e="es";break;case"se":t=strings.country_se,e="se";break;case"other":t=strings.other,e="other"}return{name:t,cod:e,sel:n}}function getToMail(t){switch(t){case strings.country_be:case strings.country_lu:case strings.other:default:out="info@etaplighting.com";break;case strings.country_fr:out="info.fr@etaplighting.com";break;case strings.country_de:out="info.de@etaplighting.com";break;case strings.country_nl:out="info.nl@etaplighting.com";break;case strings.country_pt:out="info.pt@etaplighting.com";break;case strings.country_es:out="info.es@etaplighting.com";break;case strings.country_se:out="info.se@etaplighting.com"}return out}function getInstalation(){var t="",e="",n=$("#installation :selected").val();switch(n){case"0":t=strings.ceiling,e="R";break;case"1":t=strings.wall,e="W";break;case"2":t=strings.suspended,e="S";break;case"3":t="Recessed",e="?"}return{name:t,cod:e,sel:n}}function getSuspensionType(){var t,e="",n=-1,r=0,o=$("#susLength :selected").val();switch(o){case"0":t=$("#otherSusLen").val(),e=strings.powerSupplyBox+", "+t+"mm",n=0,r=parseInt(t);break;case"1":e=strings.powerSupplyBox+", 1500mm",n=0,r=1500;break;case"2":e=strings.powerSupplyBox+", 3000mm",n=0,r=3e3;break;case"3":e=strings.minimalistic+", 1500mm",n=1,r=1500;break;case"4":e=strings.minimalistic+", 3000mm",n=1,r=3e3;break;case"5":t=$("#otherSusLen").val(),e=strings.minimalistic+", "+t+"mm",n=1,r=parseInt(t)}return{name:e,sel:o,type:n,len:r}}function getOptics(){var t="",e="",n=$("#optics :selected").val();switch(n){case"0":t=strings.opalDiffuser,e="D";break;case"1":t="Low Luminance Diffuser";break;case"2":t=strings.whiteShielding,e="S";break;case"3":t=strings.blackShielding,e="B"}return{name:t,cod:e,sel:n}}function getColor(){var t="",e="",n=$("#color :selected").val();switch(n){case"0":t=strings.color_op0,e="X1";break;case"1":t=strings.color_op1,e="X0";break;case"2":t=strings.color_op2,e="X2";break;case"3":t=strings.custom_ral+document.getElementById("otherColor").value,e="-"}return{name:t,cod:e,sel:n}}function getLedColor(){var t="",e="",n=$("#ledcolor :selected").val();switch(n){case"0":t="3000K",e="W";break;case"1":t="4000K",e="N"}return{name:t,cod:e,sel:n}}function getBeam(){var t="",e="",n="",r=$("#beam :selected").val();switch(r){case"0":t=strings.medBeam,e=strings.medLD,n="1";break;case"1":t=strings.vWideBeam,e=strings.vWideLD,n="3"}return{name:t,ld:e,cod:n,sel:r}}function getLightOutput(){var t="",e="",n=$("#lightOutput :selected").val();switch(n){case"0":t=strings.lightSource_med,e="M";break;case"1":t=strings.lightSource_low,e="L"}return{name:t,cod:e,sel:n}}function loadLineCharacteristics(){getInstalation().name,getColor().name.split(" - ")[0],getLedColor().name,getOptics().name}var designHasChanged,mouseMode=0,selSegment=null,currInt=null,addedSegment=!1,opticsMode=1,wallMount=!1,opticsLen=[[1120,1400,1680,1960,2240,2520,2800],[1368,1824,2280,2736]],minSquares=4,minLenght=30*minSquares,gridSizeInMM=280,gridSize=30,shieldedDir=null,maxScale=1.75,minScale=.35,t_connLength=2*gridSize,zoomVars_design={scale:1,factor:1.1,origin:{x:0,y:0}},zoomVars_config={scale:1,factor:1.1,origin:{x:0,y:0}},FIREFOX=/Firefox/i.test(navigator.userAgent),intersectingSeg=!1,intersectingCorner=!1,exportPieces=[];function setUpDesignMap(){var t=$("#designContainer").width(),e=$("#designContainer").height(),n=gridSize,r=!1,o=null;designStage=new Konva.Stage({container:"designContainer",width:t,height:e,draggable:!0,name:"designStage",scaleY:-1});var a=new Konva.Layer({name:"gridLayer"}),s=new Konva.Layer({name:"tipLayer"}),A=new Konva.Layer({name:"lenLayer"});drawLayer=new Konva.Layer({name:"drawLayer"}),segGrp=new Konva.Group({name:"segments"});for(var g=0;g<240;g++)a.add(new Konva.Line({points:[Math.round(g*n),0,Math.round(g*n),120*n],stroke:"#888",strokeWidth:.5}));a.add(new Konva.Line({points:[0,0,10,10]}));for(var i=0;i<120;i++)a.add(new Konva.Line({points:[0,Math.round(i*n),240*n,Math.round(i*n)],stroke:"#888",strokeWidth:.5}));zoomVars_design={scale:1,factor:1.1,origin:{x:-100*gridSize,y:-50*gridSize}},designStage.position(zoomVars_design.origin),designStage.scale({x:1,y:1});var d=new Konva.Rect({width:6,height:6,opacity:0,fill:"#FFCC00",stroke:"#FFCC00"});s.add(d);var l=new Konva.Line({points:[],opacity:1,strokeWidth:1,stroke:"#000",dash:[7,5]});A.add(l);var c=new Konva.Text({align:"center",verticalAlign:"middle",fontSize:12});A.add(c);var C=new Konva.Line({points:[],opacity:1,strokeWidth:1,stroke:"#000",dash:[7,5]});A.add(C),$("#designContainer").on("mousedown",function(t){t.preventDefault()}),$("#designContainer").on("contextmenu",function(t){t.preventDefault()}),designStage.on("contentMousedown",function(t){if(0==t.evt.button){if(designStage.draggable(!1),0==mouseMode){var e={x:d.attrs.x+3,y:d.attrs.y+3};if(!r){if(isIntersection(e))consoleAdd(strings.cant_start_intersection);else{if(isCorner(e))intersectingSeg=!1,intersectingCorner=!0,console.log("intersectingSeg = false");else{var n=isOnSegment(e);if(n.b){var s=compareArraySegment(n.i,n.d);if(!segsArray[s].canDraw)return void consoleAdd(strings.can_only_draw_on_seg_limits);var A=breakSegAtIntersection(e,getSegmentsArray(n.d)[n.i]);if(!isValidLength(A[0].start,A[0].end)||!isValidLength(A[1].start,A[1].end))return void consoleAdd(strings.too_small);intersectingSeg=!0,intersectingCorner=!1,console.log(">>>>>>>Intersecting Segment at start")}}(o=new Konva.Line({points:[e.x,e.y],strokeWidth:15,stroke:"black",opacity:.5,dir:"h"})).on("mouseover",function(t){1==mouseMode&&(this.stroke("#031C4D"),drawLayer.draw())}),o.on("mouseout",function(t){1==mouseMode&&(this.stroke("black"),drawLayer.draw())}),o.on("mouseup",function(t){1==mouseMode&&(this.stroke("#092C70"),drawLayer.draw())}),segGrp.add(o),drawLayer.add(segGrp),drawLayer.draw(),r=!0}a.draw()}}}else designStage.draggable(!0)}),designStage.on("contentMousemove",function(t){if(0==mouseMode){var e=designStage.getPointerPosition(),g={x:designStage.offsetX(),y:designStage.offsetY()};d.opacity(1);var i={x:Math.round(e.x/zoomVars_design.scale-zoomVars_design.origin.x/zoomVars_design.scale+g.x),y:Math.round(e.y/zoomVars_design.scale-zoomVars_design.origin.y/zoomVars_design.scale+g.y)};if(d.position({x:Math.round(i.x/n)*n-3,y:Math.round(i.y/n)*n-3}),e={x:Math.round(i.x/n)*n-3,y:Math.round(i.y/n)*n-3},r&&o){var C,u,p=o.attrs.points;if(2==p.length)p[0]==Math.round(e.x/n)*n&&p[1]==Math.round(e.y/n)*n||(p[2]=Math.round(e.x/n)*n,p[3]=Math.round(e.y/n)*n);else if(p[0]==p[2]&&p[1]==p[3])p=[p[0],p[1]];else p[0]!=p[2]?(u={x:Math.round(e.x/n)*n,y:p[1]},auxS={start:{x:p[0],y:p[1]},end:{x:Math.round(e.x/n)*n,y:p[1]}},C="h",currInt?intersectsLine("v",auxS)||(p[2]=u.x,p[3]=u.y,currInt=null):intersectsLine("v",auxS)?(p[2]=currInt.x,p[3]=currInt.y):(p[2]=u.x,p[3]=u.y)):(u={x:p[0],y:Math.round(e.y/n)*n},auxS={start:{x:p[0],y:p[1]},end:{x:p[0],y:Math.round(e.y/n)*n}},C="v",currInt?intersectsLine("h",auxS)||(p[2]=u.x,p[3]=u.y,currInt=null):intersectsLine("h",auxS)?(p[2]=currInt.x,p[3]=currInt.y):(p[2]=u.x,p[3]=u.y));o.attrs.points=p,o.attrs.dir=C,drawLayer.batchDraw();var I=p.slice();"v"===C?(I.unshift(p[1]),I.unshift(p[0]+25),I.push(p[p.length-2]+25),I.push(p[p.length-1]),l.attrs.points=I,l.offsetX(25),l.offsetY(0),c.rotation(90),c.x(p[0]-40),c.y(p[1]),p[1]>p[3]&&c.y(p[3])):(I.unshift(p[1]+25),I.unshift(p[0]),I.push(p[p.length-2]),I.push(p[p.length-1]+25),l.attrs.points=I,l.offsetY(25),l.offsetX(0),c.rotation(0),c.y(p[1]-40),c.x(p[0]),p[0]>p[2]&&c.x(p[2]));var y=getSegLength({start:{x:p[0],y:p[1]},end:{x:p[2],y:p[3]}});c.text(y+" mm"),y=y/gridSizeInMM*gridSize,c.width(y),c.visible(!0),l.visible(!0),2==p.length&&(c.visible(!1),l.visible(!1)),d.position({x:p[2]-3,y:p[3]-3})}a.batchDraw(),A.batchDraw(),s.batchDraw(),s.moveToTop()}1==mouseMode&&(d.opacity(0),s.batchDraw())}),designStage.on("contentMouseup",function(t){if(0==mouseMode&&0==t.evt.button){if(r){var e=o.attrs.points,n={x:e[0],y:e[1]},a={x:e[2],y:e[3]};if(addedSegment=!0,2==e.length)o.destroy(),intersectingSeg=!1,intersectingCorner=!1,addedSegment=!1;else{if(2==opticsMode||wallMount)if(0!=segsArray.length){if(o.attrs.dir!==shieldedDir)return o.destroy(),intersectingSeg=!1,intersectingCorner=!1,currInt=null,a=n,consoleAdd(strings.cant_standard),addedSegment=!1,o.opacity(1),r=!1,o=null,l.visible(!1),c.visible(!1),void reCalculateDesign()}else shieldedDir=o.attrs.dir;isValidLength(n,a)?intersectingSeg||intersectingCorner||currInt||0!==segsArray.length&&(isOnSegLimit(n).b||isOnSegLimit(a).b||(o.destroy(),intersectingSeg=!1,intersectingCorner=!1,currInt=null,a=n,consoleAdd(strings.dsgnConsole_err0),addedSegment=!1)):(!getOverlapSeg({start:n,end:a}).b||isCorner(n)||isCorner(a))&&(o.destroy(),intersectingSeg=!1,intersectingCorner=!1,currInt=null,a=n,consoleAdd(strings.too_small),addedSegment=!1)}if(intersectingCorner){if(!1===isValidSegment(n))return o.destroy(),r=!1,o=null,l.visible(!1),c.visible(!1),consoleAdd(strings.too_small),addedSegment=!1,void reCalculateDesign();tConnArray.push({x:n.x,y:n.y,checked:!1}),intersectingCorner=!1}if(currInt)return o.destroy(),r=!1,o=null,l.visible(!1),c.visible(!1),consoleAdd(strings.can_not_make_t_piece),addedSegment=!1,void reCalculateDesign();o.opacity(1),r=!1,o=null,l.visible(!1),c.visible(!1)}reCalculateDesign(),OuterDimensions()}}),$("#designContainer").on("mousewheel",function(t){t.preventDefault();var e=designStage.scaleX(),n=designStage.getPointerPosition().x/e-designStage.x()/e,r=designStage.getPointerPosition().y/e-designStage.y()/e,o=t.originalEvent.deltaY<0?e*zoomVars_design.factor:e/zoomVars_design.factor;if(!(o>maxScale||o<minScale)){designStage.scale({x:o,y:o});var a={x:-(n-designStage.getPointerPosition().x/o)*o,y:-(r-designStage.getPointerPosition().y/o)*o};designStage.position(a),designStage.batchDraw(),zoomVars_design.scale=o,zoomVars_design.origin=a}}),designStage.on("dragstart",function(t){$("#designContainer").css("cursor","grab")}),designStage.on("dragend",function(t){$("#designContainer").css("cursor","crosshair"),zoomVars_design.origin=designStage.position()}),designStage.add(a,drawLayer,s,A),designStage.draw()}function redrawSegments(t){drawLayer.destroy(),segGrp=new Konva.Group({name:"segments"}),cornGrp=new Konva.Group({name:"corners"}),tGrp=new Konva.Group({name:"tconnections"}),lenGrp=new Konva.Group({name:"lengths"});for(var e=0;e<t.length;e++){drawShape=new Konva.Line({points:[t[e].start.x,t[e].start.y,t[e].end.x,t[e].end.y],strokeWidth:15,stroke:"black",opacity:1,dir:"",id:e}),drawShape.attrs.points[0]==drawShape.attrs.points[2]?drawShape.attrs.dir="v":drawShape.attrs.points[1]==drawShape.attrs.points[3]&&(drawShape.attrs.dir="h"),drawShape.on("mouseover",function(t){1==mouseMode&&selSegment!==t.target.attrs.id&&(this.stroke("#092C70"),drawLayer.draw())}),drawShape.on("mouseout",function(t){1==mouseMode&&selSegment!==t.target.attrs.id&&(this.stroke("black"),drawLayer.draw())}),drawShape.on("mouseup",function(t){if(1==mouseMode){if(null!==selSegment){var e=getDesignSegByID(selSegment);-1!==e&&segGrp.children[e].stroke("black"),selSegment=null}selSegment=t.target.attrs.id,this.stroke("#264F9F"),drawLayer.draw(),$("#delButton").removeClass("btn_disabled")}}),segGrp.add(drawShape);var n=new Konva.Text({align:"center",verticalAlign:"middle",fontSize:12,resizeEnabled:!0});"v"===drawShape.attrs.dir?(n.rotation(90),n.x(drawShape.attrs.points[0]-18),n.y(drawShape.attrs.points[1]),drawShape.attrs.points[1]>drawShape.attrs.points[3]&&n.y(drawShape.attrs.points[3])):(n.rotation(0),n.y(drawShape.attrs.points[1]-25),n.x(drawShape.attrs.points[0]),drawShape.attrs.points[0]>drawShape.attrs.points[2]&&n.x(drawShape.attrs.points[2])),lenTot=getSegLength(t[e]),n.text(lenTot+" mm"),n.width(lenTot/gridSizeInMM*gridSize),lenGrp.add(n)}drawLayer.add(segGrp),drawLayer.add(lenGrp);var r=calculateCorners();for(e=0;e<r.length;e++){var o=[];switch(r[e].t){case 0:o=[r[e].c.x,r[e].c.y+2*gridSize,r[e].c.x,r[e].c.y,r[e].c.x+2*gridSize,r[e].c.y];break;case 1:o=[r[e].c.x,r[e].c.y-2*gridSize,r[e].c.x,r[e].c.y,r[e].c.x+2*gridSize,r[e].c.y];break;case 2:o=[r[e].c.x,r[e].c.y-2*gridSize,r[e].c.x,r[e].c.y,r[e].c.x-2*gridSize,r[e].c.y];break;case 3:o=[r[e].c.x,r[e].c.y+2*gridSize,r[e].c.x,r[e].c.y,r[e].c.x-2*gridSize,r[e].c.y]}drawShape=new Konva.Line({points:o,strokeWidth:16,stroke:"#777",opacity:1}),cornGrp.add(drawShape)}drawLayer.add(cornGrp),segsArray.forEach(function(t){t.canDraw=!1});for(e=0;e<tConnArray.length;e++){var a=[];getInterType(tConnArray[e]);switch(getInterType(tConnArray[e])){case 0:a=[tConnArray[e].x,tConnArray[e].y+gridSize,tConnArray[e].x,tConnArray[e].y-gridSize,tConnArray[e].x,tConnArray[e].y,tConnArray[e].x+t_connLength,tConnArray[e].y];break;case 1:a=[tConnArray[e].x-gridSize,tConnArray[e].y,tConnArray[e].x+gridSize,tConnArray[e].y,tConnArray[e].x,tConnArray[e].y,tConnArray[e].x,tConnArray[e].y+t_connLength];break;case 2:a=[tConnArray[e].x,tConnArray[e].y+gridSize,tConnArray[e].x,tConnArray[e].y-gridSize,tConnArray[e].x,tConnArray[e].y,tConnArray[e].x-t_connLength,tConnArray[e].y];break;case 3:a=[tConnArray[e].x-gridSize,tConnArray[e].y,tConnArray[e].x+gridSize,tConnArray[e].y,tConnArray[e].x,tConnArray[e].y,tConnArray[e].x,tConnArray[e].y-t_connLength]}drawShape=new Konva.Line({points:a,strokeWidth:15,stroke:"#777",opacity:1}),tGrp.add(drawShape)}drawLayer.add(tGrp),designStage.add(drawLayer),designStage.draw()}function getDesignSegByID(t){for(var e=0;e<segGrp.children.length;e++)if(segGrp.children[e].attrs.id===t)return e;return-1}function getSegmentAttached(){for(var t=normalizeSegArray(segsArray),e=0;e<tConnArray.length;e++)for(var n=0;n<t.length;n++)1==tConnArray[e].interType?tConnArray[e].x==t[n].start.x&&tConnArray[e].x==t[n].end.x&&tConnArray[e].y==t[n].start.y&&tConnArray[e].y<t[n].end.y&&segsArray[n].canDraw&&(segsArray[n].canDraw=!1):3==tConnArray[e].interType?tConnArray[e].x==t[n].start.x&&tConnArray[e].x==t[n].end.x&&tConnArray[e].y==t[n].end.y&&tConnArray[e].y>t[n].start.y&&segsArray[n].canDraw&&(segsArray[n].canDraw=!1):2==tConnArray[e].interType?tConnArray[e].y==t[n].start.y&&tConnArray[e].y==t[n].end.y&&tConnArray[e].x==t[n].end.x&&tConnArray[e].x>t[n].start.x&&segsArray[n].canDraw&&(segsArray[n].canDraw=!1):tConnArray[e].y==t[n].start.y&&tConnArray[e].y==t[n].end.y&&tConnArray[e].x==t[n].start.x&&tConnArray[e].x<t[n].end.x&&segsArray[n].canDraw&&(segsArray[n].canDraw=!1)}function reCalculateDesign(){var t=getSegmentsArray();console.log("Original Array:"+t.length),t=cleanOverlap(t),segsArray=t,console.log("Cleaned Array:"+t.length),calculateNewSegments(),calculateCorners(),cleanDisconnected(segsArray),addedSegment&&(addedSegment=!1,console.log("~~~~~ Added Segment ! "),hasValidLengths()||(console.log("~~~~~ Valid? FALSE"),consoleAdd(strings.segmentValidate),segGrp.children.pop(),reCalculateDesign())),redrawSegments(segsArray),designHasChanged=!0}function hasValidLengths(){for(var t=normalizeSegArray(segsArray),e=0;e<t.length;e++){var n=t[e].start,r=t[e].end,o=2*gridSize,a=1*gridSize,s=t_connLength,A=0;if(t[e].start.x==t[e].end.x){if(isCorner(t[e].start))n={x:t[e].start.x,y:t[e].start.y+o};else if(isIntersection(t[e].start)){n=0==(g=getInterType(t[e].start))||2==g?{x:t[e].start.x,y:t[e].start.y+a}:{x:t[e].start.x,y:t[e].start.y+s}}if(isCorner(t[e].end))r={x:t[e].end.x,y:t[e].end.y-o};else if(isIntersection(t[e].end)){r=0==(g=getInterType(t[e].end))||2==g?{x:t[e].end.x,y:t[e].end.y-a}:{x:t[e].end.x,y:t[e].end.y-s}}A=r.y-n.y}else{if(isCorner(t[e].start))n={x:t[e].start.x+o,y:t[e].start.y};else if(isIntersection(t[e].start)){n=0==(g=getInterType(t[e].start))||2==g?{x:t[e].start.x+s,y:t[e].start.y}:{x:t[e].start.x+a,y:t[e].start.y}}if(isCorner(t[e].end))r={x:t[e].end.x-o,y:t[e].end.y};else if(isIntersection(t[e].end)){var g;r=0==(g=getInterType(t[e].end))||2==g?{x:t[e].end.x-s,y:t[e].end.y}:{x:t[e].end.x-a,y:t[e].end.y}}A=r.x-n.x}if(A<0||A>0&&A<minLenght)return!1}return!0}function getSegmentsArray(t){var e=[];return segGrp.children.forEach(function(n){var r={x:n.attrs.points[0],y:n.attrs.points[1]},o={x:n.attrs.points[2],y:n.attrs.points[3]};"h"==t||"v"===t?n.attrs.dir==t&&e.push({start:r,end:o,canDraw:!1}):e.push({start:r,end:o,canDraw:!1})}),e}function getPointsArray(){var t=[];return segsArray.forEach(function(e){t.push(e.start),t.push(e.end)}),t}function cleanOverlap(t){for(var e=t.slice(),n=[],r=0;r<e.length;r++)if((n=cleanSegOverlap(r,e)).length!=e.length)return cleanOverlap(n);return n}function cleanSegOverlap(t,e){for(var n=e.slice(),r=null,o=0;o<e.length;o++)if(o!=t&&(r=getOverlap(e[t],e[o]))){t>o?(n.splice(t,1),n.splice(o,1)):(n.splice(o,1),n.splice(t,1)),n.push(r);break}return n}function getOverlap(t,e){var n={x:t.start.x,y:t.start.y},r={x:t.end.x,y:t.end.y},o={x:e.start.x,y:e.start.y},a={x:e.end.x,y:e.end.y},s={x:n.x,y:n.y},A={x:r.x,y:r.y},g={x:o.x,y:o.y},i={x:a.x,y:a.y},d={x:0,y:0},l={x:0,y:0};if(n.x==r.x&&n.x==o.x&&n.x==a.x){if(n.y>r.y&&(s={x:r.x,y:r.y},A={x:n.x,y:n.y}),o.y>a.y&&(g={x:a.x,y:a.y},i={x:o.x,y:o.y}),A.y>=g.y&&s.y<=i.y)return g.y<=s.y?(d.y=g.y,d.x=g.x):(d.y=s.y,d.x=s.x),i.y<=A.y?(l.y=A.y,l.x=A.x):(l.y=i.y,l.x=i.x),{start:d,end:l,canDraw:!1}}else if(n.y==r.y&&n.y==o.y&&n.y==a.y&&(n.x>r.x&&(s={x:r.x,y:r.y},A={x:n.x,y:n.y}),o.x>a.x&&(g={x:a.x,y:a.y},i={x:o.x,y:o.y}),A.x>=g.x&&s.x<=i.x))return g.x<=s.x?(d.y=g.y,d.x=g.x):(d.y=s.y,d.x=s.x),i.x<=A.x?(l.y=A.y,l.x=A.x):(l.y=i.y,l.x=i.x),{start:d,end:l,canDraw:!1};return null}function getOverlapSeg(t){for(var e=getSegmentsArray(),n=0;n<e.length;n++)if(!compareSegments(t,e[n])&&getOverlap(t,e[n]))return{b:!0,i:n,checked:!0};return{b:!1,i:-1}}function cleanDisconnected(t){return t.length>=2&&t.forEach(function(e,n){isCorner(e.start)||isIntersection(e.start)||isCorner(e.end)||isIntersection(e.end)||(t.splice(n,1),console.log("Cleaned disconected segment"))}),t}function canDelete(t){var e=getSegmentsArray();return e.splice(t,1),reCalculateDesign(),!!validateConfSegSizes(e=getConfigSegments(e=normalizeSegArray(e)))}function validateConfSegSizes(t){for(var e=0;e<t.length;e++)if(!isValidLength(t[e].newSeg.start,t[e].newSeg.end))return!1;return!0}function getIntersection(t,e){var n={x:t.start.x,y:t.start.y},r={x:t.end.x,y:t.end.y},o={x:e.start.x,y:e.start.y},a={x:e.end.x,y:e.end.y},s={x:n.x,y:n.y},A={x:r.x,y:r.y},g={x:o.x,y:o.y},i={x:a.x,y:a.y};return o.y>a.y&&(g={x:a.x,y:a.y},i={x:o.x,y:o.y}),n.x>r.x&&(s={x:r.x,y:r.y},A={x:n.x,y:n.y}),s.x<g.x&&A.x>i.x&&g.y<s.y&&i.y>A.y||(s.x==g.x||A.x==g.x)&&s.y<i.y&&s.y>g.y||(g.y==s.y||i.y==s.y)&&g.x<A.x&&g.x>s.x?{x:g.x,y:s.y}:null}function calculateCorners(){for(var t=getPointsArray(),e=[],n=[],r=0;r<t.length;r++)checkIfCorner(t,t[r])&&e.push(t[r]);var o=e.filter(function({x:t,y:e}){const n=`${t}${e}`;return!this.has(n)&&this.add(n)},new Set);return o.forEach(function(t,e){var r=getCornerPoints(t),o=-1;r[0].x==t.x?(t.y<r[0].y&&t.x>r[1].x&&(o=3),t.y>r[0].y&&t.x>r[1].x&&(o=2),t.y>r[0].y&&t.x<r[1].x&&(o=1),t.y<r[0].y&&t.x<r[1].x&&(o=0)):(t.y<r[1].y&&t.x>r[0].x&&(o=3),t.y>r[1].y&&t.x>r[0].x&&(o=2),t.y>r[1].y&&t.x<r[0].x&&(o=1),t.y<r[1].y&&t.x<r[0].x&&(o=0)),n.push({id:e,c:t,t:o})}),cornersArray=o,n}function checkIfCorner(t,e){var n=0;return t.forEach(t=>t.x===e.x&&t.y===e.y&&n++),2===n}function intersectsLine(t,e){for(var n,r=getSegmentsArray(t),o=!1,a=0;a<r.length;a++){if("h"===t&&null!=(n=getIntersection(r[a],e))&&(intersectingSeg&&(n.x==e.start.x&&n.y==e.start.y?(console.log("intersection is start point - x:"+n.x+" y:"+n.y),o=!0):o=!1),!o))return null===currInt&&(currInt=n,console.log("Found valid intersection with horizontal segment @ x:"+currInt.x+" y:"+currInt.y)),o=!1,!0;if("v"===t&&null!=(n=getIntersection(e,r[a]))&&(intersectingSeg&&(n.x==e.start.x&&n.y==e.start.y?(console.log("intersection is start point - x:"+n.x+" y:"+n.y),o=!0):o=!1),!o))return null===currInt&&(currInt=n,console.log("Found valid intersection with vertical segment @ x:"+currInt.x+" y:"+currInt.y)),o=!1,!0}return!1}function isCorner(t){for(var e=cornersArray,n=0;n<e.length;n++)if(t.x===e[n].x&&t.y===e[n].y)return!0;return!1}function isIntersection(t){for(var e=0;e<tConnArray.length;e++)if(t.x===tConnArray[e].x&&t.y===tConnArray[e].y)return!0;return!1}function isOnSegment(t){for(var e=getSegmentsArray("h"),n=getSegmentsArray("v"),r=0;r<e.length;r++)if(e[r].start.y===t.y&&(t.x>e[r].start.x&&t.x<e[r].end.x&&e[r].start.x<e[r].end.x||t.x<e[r].start.x&&t.x>e[r].end.x&&e[r].start.x>e[r].end.x))return{b:!0,d:"h",i:r};for(r=0;r<n.length;r++)if(n[r].start.x===t.x&&(t.y>n[r].start.y&&t.y<n[r].end.y&&n[r].start.y<n[r].end.y||t.y<n[r].start.y&&t.y>n[r].end.y&&n[r].start.y>n[r].end.y))return{b:!0,d:"v",i:r};return{b:!1,d:"",i:r}}function compareArraySegment(t,e){for(var n=getSegmentsArray("h"),r=getSegmentsArray("v"),o=0;o<segsArray.length;o++)if("h"==e){for(var a=0;a<n.length;a++)if(segsArray[o].start.x==n[t].start.x&&segsArray[o].end.x==n[t].end.x&&segsArray[o].start.y==n[t].start.y&&segsArray[o].end.y==n[t].end.y)return o}else for(var s=0;s<r.length;s++)if(segsArray[o].start.x==r[t].start.x&&segsArray[o].end.x==r[t].end.x&&segsArray[o].start.y==r[t].start.y&&segsArray[o].end.y==r[t].end.y)return o}function isOnSegLimit(t){for(var e=0;e<segsArray.length;e++)if(segsArray[e].start.x===t.x&&segsArray[e].start.y===t.y||segsArray[e].end.x===t.x&&segsArray[e].end.y===t.y)return{b:!0,i:e,checked:!1};return{b:!1,i:-1,checked:!1}}function calculateNewSegments(){for(var t=tConnArray.slice(),e=0;e<t.length;e++){var n=getSegmentsOfIntersection(t[e]);if(!n.length)return tConnArray.splice(e,1),void calculateNewSegments();if(1==n.length){var r=getMissingSeg(t[e],n[0].seg);if(r.b){var o=breakSegAtIntersection(t[e],segsArray[r.id]);2==o.length&&(segsArray.splice(r.id,1),segsArray.push(o[0]),segsArray.push(o[1]))}}else if(2==n.length)return tConnArray.splice(e,1),void calculateNewSegments()}}function getCornerPoints(t){for(var e=segsArray,n=[],r=0;r<e.length;r++)e[r].start.x==t.x&&e[r].start.y==t.y&&n.push(e[r].end),e[r].end.x==t.x&&e[r].end.y==t.y&&n.push(e[r].start);return n}function getSegmentsOfIntersection(t){for(var e=segsArray,n=[],r=0;r<e.length;r++)(e[r].start.x==t.x&&e[r].start.y==t.y||e[r].end.x==t.x&&e[r].end.y==t.y)&&n.push({pos:r,seg:e[r]});return n}function getDirection(t){return t.start.x==t.end.x?"v":"h"}function getInterType(t){var e=-1,n=[],r=getSegmentsOfIntersection(t);return r.forEach(function(t,e){r[e]=t.seg}),n.push(getDirection(r[0])),n.push(getDirection(r[1])),n.push(getDirection(r[2])),n[0]==n[1]&&(e="v"==n[2]?r[2].start.y>r[0].start.y||r[2].end.y>r[0].start.y?1:3:r[2].start.x>r[0].start.x||r[2].end.x>r[0].start.x?0:2),n[0]==n[2]&&(e="v"==n[1]?r[1].start.y>r[0].start.y||r[1].end.y>r[0].start.y?1:3:r[1].start.x>r[0].start.x||r[1].end.x>r[0].start.x?0:2),n[1]==n[2]&&(e="v"==n[0]?r[0].start.y>r[1].start.y||r[0].end.y>r[1].start.y?1:3:r[0].start.x>r[1].start.x||r[0].end.x>r[1].start.x?0:2),e}function getMissingSeg(t,e){for(var n=segsArray,r=0;r<n.length;r++)if(n[r].start.y===n[r].end.y){if(n[r].start.y===t.y&&(t.x>n[r].start.x&&t.x<n[r].end.x&&n[r].start.x<n[r].end.x||t.x<n[r].start.x&&t.x>n[r].end.x&&n[r].start.x>n[r].end.x)&&!compareSegments(n[r],e))return{b:!0,id:r,dir:"h"}}else if(n[r].start.x===n[r].end.x&&n[r].start.x===t.x&&(t.y>n[r].start.y&&t.y<n[r].end.y&&n[r].start.y<n[r].end.y||t.y<n[r].start.y&&t.y>n[r].end.y&&n[r].start.y>n[r].end.y)&&!compareSegments(n[r],e))return{b:!0,id:r,dir:"v"};return{b:!1,d:""}}function compareSegments(t,e){return t.start.x==e.start.x&&t.start.y==e.start.y&&t.end.x==e.end.x&&t.end.y==e.end.y||t.start.x==e.end.x&&t.start.y==e.end.y&&t.end.x==e.start.x&&t.end.y==e.start.y}function comparePoints(t,e){return t.x==e.x&&t.y==e.y}function breakSegAtIntersection(t,e){return out=[],e.start.x==e.end.x&&t.x==e.start.x&&(e.start.y<e.end.y?t.y>=e.start.y&&t.y<=e.end.y&&(out=[{start:{x:e.start.x,y:e.start.y},end:{x:t.x,y:t.y},canDraw:!1},{start:{x:t.x,y:t.y},end:{x:e.end.x,y:e.end.y},canDraw:!1}]):t.y>=e.end.y&&t.y<=e.start.y&&(out=[{start:{x:e.end.x,y:e.end.y},end:{x:t.x,y:t.y},canDraw:!1},{start:{x:t.x,y:t.y},end:{x:e.start.x,y:e.start.y},canDraw:!1}])),e.start.y==e.end.y&&t.y==e.start.y&&(e.start.x<e.end.x?t.x>=e.start.x&&t.x<=e.end.x&&(out=[{start:{x:e.start.x,y:e.start.y},end:{x:t.x,y:t.y},canDraw:!1},{start:{x:t.x,y:t.y},end:{x:e.end.x,y:e.end.y},canDraw:!1}]):t.x>=e.end.x&&t.x<=e.start.x&&(out=[{start:{x:e.end.x,y:e.end.y},end:{x:t.x,y:t.y},canDraw:!1},{start:{x:t.x,y:t.y},end:{x:e.start.x,y:e.start.y},canDraw:!1}])),out}function isValidLength(t,e){return!((t.x===e.x?Math.abs(e.y-t.y):Math.abs(e.x-t.x))<minLenght)}function isValidInterLength(t,e,n){var r=0;return r=t.x===e.x?Math.abs(e.y-t.y):Math.abs(e.x-t.x),0==n?!(r<(minSquares+1)*gridSize):!(r<(minSquares+3)*gridSize)}function cleanDesign(){cornersArray=[],segsArray=[],tConnArray=[],segGrp=new Konva.Group({name:"segments"}),cornGrp=new Konva.Group({name:"corners"}),tGrp=new Konva.Group({name:"tconnections"}),lenGrp=new Konva.Group({name:"lengths"}),consoleClear()}function checkUnity(){}function consoleAdd(t){$(".lastEntry").removeClass("lastEntry"),$("#innerConsole").append('<p class="lastEntry">'+t+"</p>"),$("#innerConsole").animate({scrollTop:$("#innerConsole").prop("scrollHeight")},0)}function consoleClear(){$("#innerConsole").html("")}function setUpConfigMap(){var t=$("#configContainer").width(),e=$("#configContainer").height();confLayer=new Konva.Layer,configStage=new Konva.Stage({container:"configContainer",width:t,height:e,scale:{x:.75,y:.75},name:"configStage"});var n=$("#tableWrap").height();$("#tableContainer_inner").height(n-10),$(".th_inner").each(function(){$(this).width($(this).parent().width())})}function getSegLength(t){var e=0;return t.start.x===t.end.x?e=t.start.y>t.end.y?(t.start.y-t.end.y)/gridSize*gridSizeInMM:(t.end.y-t.start.y)/gridSize*gridSizeInMM:t.start.y===t.end.y&&(e=t.start.x>t.end.x?(t.start.x-t.end.x)/gridSize*gridSizeInMM:(t.end.x-t.start.x)/gridSize*gridSizeInMM),e}function setupConfigSegments(){configSegs=[];var t=getConfigSegments(segsArray),e=0;t.forEach(function(t,n){var r=getComposition(t.newSeg,e,n);configSegs.push({id:n,designSeg:{start:t.oldSeg.start,end:t.oldSeg.end},confSeg:{start:t.newSeg.start,end:t.newSeg.end},composition:r.lens,subSegments:r.segs}),e=r.c+1})}function setupConfigCorners(){configCorners=[];for(var t=calculateCorners(),e=0;e<t.length;e++){var n=-1,r=-1;switch(t[e].t){case 0:n={x:t[e].c.x,y:t[e].c.y+2*gridSize},r={x:t[e].c.x+2*gridSize,y:t[e].c.y};break;case 1:n={x:t[e].c.x,y:t[e].c.y-2*gridSize},r={x:t[e].c.x+2*gridSize,y:t[e].c.y};break;case 2:n={x:t[e].c.x,y:t[e].c.y-2*gridSize},r={x:t[e].c.x-2*gridSize,y:t[e].c.y};break;case 3:n={x:t[e].c.x,y:t[e].c.y+2*gridSize},r={x:t[e].c.x-2*gridSize,y:t[e].c.y}}var o=String.fromCharCode(65+e);configCorners.push({id:e,c:t[e].c,t:t[e].t,lim1:n,lim2:r,dir:!0,disp:o})}}function setupConfigTs(){configTs=[];for(var t=0;t<tConnArray.length;t++){var e=-1,n=-1,r=-1,o=getInterType(tConnArray[t]);switch(o){case 0:e={x:tConnArray[t].x,y:tConnArray[t].y+gridSize},n={x:tConnArray[t].x,y:tConnArray[t].y-gridSize},r={x:tConnArray[t].x+t_connLength,y:tConnArray[t].y};break;case 1:e={x:tConnArray[t].x-gridSize,y:tConnArray[t].y},n={x:tConnArray[t].x+gridSize,y:tConnArray[t].y},r={x:tConnArray[t].x,y:tConnArray[t].y+t_connLength};break;case 2:e={x:tConnArray[t].x,y:tConnArray[t].y+gridSize},n={x:tConnArray[t].x,y:tConnArray[t].y-gridSize},r={x:tConnArray[t].x-t_connLength,y:tConnArray[t].y};break;case 3:e={x:tConnArray[t].x-gridSize,y:tConnArray[t].y},n={x:tConnArray[t].x+gridSize,y:tConnArray[t].y},r={x:tConnArray[t].x,y:tConnArray[t].y-t_connLength}}var a=String.fromCharCode(65+t+configCorners.length);configTs.push({id:t,point:tConnArray[t],t:o,lim1:e,lim2:n,lim3:r,dir:!0,disp:a})}}function loadConfigMap(){calculateNewSegments(),segsArray=sortSegments(),setupConfigSegments(),setupConfigCorners(),setupConfigTs(),drawConfigMap(configSegs,configCorners,configTs)}function drawConfigMap(t,e,n){var r,o;segGrp_c=new Konva.Group,cornGrp_c=new Konva.Group,tGrp_c=new Konva.Group,tooltipGrp_c=new Konva.Group;var a=[];confLayer.destroy();for(var s=0;s<t.length;s++)if((a=t[s].subSegments).length>1)a.forEach(function(t,e){var n=[];t.start.x==t.end.x?(n=[t.start.x,t.start.y+1,t.end.x,t.end.y-1],d=t.start.x+10,l=t.start.y<t.end.y?t.start.y+Math.abs(t.end.y-t.start.y)/2-7:t.end.y+Math.abs(t.start.y-t.end.y)/2-7):t.start.y==t.end.y&&(n=[t.start.x+1,t.start.y,t.end.x-1,t.end.y],l=t.start.y+15,d=t.start.x<t.end.x?t.start.x+Math.abs(t.end.x-t.start.x)/2-5:t.end.x+Math.abs(t.start.x-t.end.x)/2-5),r=new Konva.Line({points:n,strokeWidth:15,stroke:"black",opacity:1,dir:"",id:s+1+"_"+(e+1)}),o=new Konva.Text({x:d,y:l,text:s+1+"."+(e+1),align:"center",verticalAlign:"middle",fontSize:20,fill:"black"}),segGrp_c.add(r),tooltipGrp_c.add(o)});else{var A=[],g=t[s].subSegments[0];g.start.x==g.end.x?(A=[g.start.x,g.start.y+1,g.end.x,g.end.y-1],d=g.start.x+10,l=g.start.y<g.end.y?g.start.y+Math.abs(g.end.y-g.start.y)/2-7:g.end.y+Math.abs(g.start.y-g.end.y)/2-7):g.start.y==g.end.y&&(A=[g.start.x+1,g.start.y,g.end.x-1,g.end.y],l=g.start.y+15,d=g.start.x<g.end.x?g.start.x+Math.abs(g.end.x-g.start.x)/2-5:g.end.x+Math.abs(g.start.x-g.end.x)/2-5),r=new Konva.Line({points:A,strokeWidth:15,stroke:"black",opacity:1,dir:"",id:s+1+"_0"}),o=new Konva.Text({x:d,y:l,text:""+(s+1),align:"center",verticalAlign:"middle",fontSize:20,fill:"black"}),segGrp_c.add(r),tooltipGrp_c.add(o)}confLayer.add(segGrp_c),confLayer.add(tooltipGrp_c);var i=0;for(s=0;s<e.length;s++){var d,l,c=[];switch(e[s].t){case 0:c=[e[s].c.x,e[s].c.y+2*gridSize,e[s].c.x,e[s].c.y,e[s].c.x+2*gridSize,e[s].c.y],d=e[s].c.x-25,l=e[s].c.y-25;break;case 1:c=[e[s].c.x,e[s].c.y-2*gridSize,e[s].c.x,e[s].c.y,e[s].c.x+2*gridSize,e[s].c.y],d=e[s].c.x-25,l=e[s].c.y+10;break;case 2:c=[e[s].c.x,e[s].c.y-2*gridSize,e[s].c.x,e[s].c.y,e[s].c.x-2*gridSize,e[s].c.y],d=e[s].c.x+10,l=e[s].c.y+10;break;case 3:c=[e[s].c.x,e[s].c.y+2*gridSize,e[s].c.x,e[s].c.y,e[s].c.x-2*gridSize,e[s].c.y],d=e[s].c.x+10,l=e[s].c.y-25}drawShape=new Konva.Line({points:c,strokeWidth:16,stroke:"#777",opacity:1}),o=new Konva.Text({x:d,y:l,text:String.fromCharCode(65+s),align:"center",verticalAlign:"middle",fontSize:20,fill:"black"}),i++,cornGrp_c.add(drawShape),tooltipGrp_c.add(o)}confLayer.add(cornGrp_c);for(s=0;s<n.length;s++){var C=[];switch(n[s].t){case 0:C=[n[s].point.x,n[s].point.y+gridSize,n[s].point.x,n[s].point.y-gridSize,n[s].point.x,n[s].point.y,n[s].point.x+t_connLength,n[s].point.y],d=n[s].point.x-25,l=n[s].point.y-5;break;case 1:C=[n[s].point.x-gridSize,n[s].point.y,n[s].point.x+gridSize,n[s].point.y,n[s].point.x,n[s].point.y,n[s].point.x,n[s].point.y+t_connLength],d=n[s].point.x-5,l=n[s].point.y-25;break;case 2:C=[n[s].point.x,n[s].point.y+gridSize,n[s].point.x,n[s].point.y-gridSize,n[s].point.x,n[s].point.y,n[s].point.x-t_connLength,n[s].point.y],d=n[s].point.x+10,l=n[s].point.y-5;break;case 3:C=[n[s].point.x-gridSize,n[s].point.y,n[s].point.x+gridSize,n[s].point.y,n[s].point.x,n[s].point.y,n[s].point.x,n[s].point.y-t_connLength],d=n[s].point.x-5,l=n[s].point.y+10}drawShape=new Konva.Line({points:C,strokeWidth:15,stroke:"#777",opacity:1}),o=new Konva.Text({x:d,y:l,text:String.fromCharCode(65+s+i),align:"center",verticalAlign:"middle",fontSize:20,fill:"black"}),tGrp_c.add(drawShape),tooltipGrp_c.add(o)}confLayer.add(tGrp_c),configStage.add(confLayer),zoomFit(configStage),configStage.draw()}function sortSegments(){return normalizeSegArray(segsArray.slice()).sort(compareSegment)}function compareSegment(t,e){return t.start.x===e.start.x?t.start.y<e.start.y?-1:t.start.y>e.start.y?1:0:t.start.x<e.start.x?-1:t.start.x>e.start.x?1:void 0}function normalizeSegArray(t){var e=[];return t.forEach(function(t){t.start.x==t.end.x?t.end.y<t.start.y?e.push({start:{x:t.end.x,y:t.end.y},end:{x:t.start.x,y:t.start.y}}):e.push(t):t.end.x<t.start.x?e.push({start:{x:t.end.x,y:t.end.y},end:{x:t.start.x,y:t.start.y}}):e.push(t)}),e}function getConfigSegments(t){var e=[];return t.forEach(function(t){var n=t.start,r=t.end,o=2*gridSize,a=1*gridSize,s=t_connLength;if(t.start.x==t.end.x){if(isCorner(t.start))n={x:t.start.x,y:t.start.y+o};else if(isIntersection(t.start)){n=0==(A=getInterType(t.start))||2==A?{x:t.start.x,y:t.start.y+a}:{x:t.start.x,y:t.start.y+s}}if(isCorner(t.end))r={x:t.end.x,y:t.end.y-o};else if(isIntersection(t.end)){r=0==(A=getInterType(t.end))||2==A?{x:t.end.x,y:t.end.y-a}:{x:t.end.x,y:t.end.y-s}}}else{if(isCorner(t.start))n={x:t.start.x+o,y:t.start.y};else if(isIntersection(t.start)){n=0==(A=getInterType(t.start))||2==A?{x:t.start.x+s,y:t.start.y}:{x:t.start.x+a,y:t.start.y}}if(isCorner(t.end))r={x:t.end.x-o,y:t.end.y};else if(isIntersection(t.end)){var A;r=0==(A=getInterType(t.end))||2==A?{x:t.end.x-s,y:t.end.y}:{x:t.end.x-a,y:t.end.y}}}n.x==r.x&&n.y==r.y||e.push({newSeg:{start:n,end:r},oldSeg:{start:t.start,end:t.end}})}),e}function getComposition(t,e,n){var r=getSegLength(t),o=[],a=[];if(1===opticsMode)if(r<=opticsLen[0][opticsLen[0].length-1])switch(r){case opticsLen[0][0]:o.push(opticsLen[0][0]);break;case opticsLen[0][1]:o.push(opticsLen[0][1]);break;case opticsLen[0][2]:o.push(opticsLen[0][2]);break;case opticsLen[0][3]:o.push(opticsLen[0][3]);break;case opticsLen[0][4]:o.push(opticsLen[0][4]);break;case opticsLen[0][5]:o.push(opticsLen[0][5]);break;case opticsLen[0][6]:o.push(opticsLen[0][6]);break;case opticsLen[0][7]:o.push(opticsLen[0][7])}else{for(var s=opticsLen[0].length-1;s>=0;s--){var A=r%opticsLen[0][s];if(a.push(A),!A){for(var g=r/opticsLen[0][s];g;)o.push(opticsLen[0][s]),opticsLen[0][s],g--;break}if(opticsLen[0].includes(A)){g=Math.floor(r/opticsLen[0][s]);for(var i=opticsLen[0].length-1;i>=0;i--){var d=r%opticsLen[0][i],l=r/opticsLen[0][i];if(!d&&l<=g+1){for(;l;)o.push(opticsLen[0][i]),opticsLen[0][i],l--;break}}if(!o.length)for(o.push(A);g;)o.push(opticsLen[0][s]),opticsLen[0][s],g--;break}}if(!o.length){var c=-1;a.forEach(function(t,e){opticsLen[0].includes(t)&&(-1==c?c=e:a[c]<t&&(c=e))}),o.push(a[c]),a[c];for(var C=opticsLen[0].length-c-1,u=Math.floor(r/opticsLen[0][C]);u;)o.push(opticsLen[0][C]),opticsLen[0][C],u--}}if(2===opticsMode)if(r<=opticsLen[1][opticsLen[1].length-1])switch(r){case opticsLen[1][0]:o.push(opticsLen[1][0]);break;case opticsLen[1][1]:o.push(opticsLen[1][1]);break;case opticsLen[1][2]:o.push(opticsLen[1][2]);break;case opticsLen[1][3]:o.push(opticsLen[1][3]);break;case opticsLen[1][4]:o.push(opticsLen[1][4])}else if(16872==r)o.push(opticsLen[1][0]),o.push(opticsLen[1][1]),o.push(opticsLen[1][3]),o.push(opticsLen[1][3]),o.push(opticsLen[1][3]),o.push(opticsLen[1][3]),o.push(opticsLen[1][3]);else{for(s=opticsLen[1].length-1;s>=0;s--){A=r%opticsLen[1][s];if(a.push(A),!A){for(g=r/opticsLen[1][s];g;)o.push(opticsLen[1][s]),opticsLen[1][s],g--;break}if(opticsLen[1].includes(A)){for(g=Math.floor(r/opticsLen[1][s]),i=opticsLen[1].length-1;i>=0;i--){d=r%opticsLen[1][i],l=r/opticsLen[1][i];if(!d&&l<=g+1){for(;l;)o.push(opticsLen[1][i]),opticsLen[1][i],l--;break}}if(!o.length)for(o.push(A);g;)o.push(opticsLen[1][s]),opticsLen[1][s],g--;break}}if(!o.length){c=-1;a.forEach(function(t,e){opticsLen[1].includes(t)&&(-1==c?c=e:a[c]<t&&(c=e))}),o.push(a[c]),a[c];for(C=opticsLen[1].length-c-1,u=Math.floor(r/opticsLen[1][C]);u;)o.push(opticsLen[1][C]),opticsLen[1][C],u--}}var p=e;return o.forEach(function(t,e){o[e]=t*(gridSize/gridSizeInMM),p+=1}),out=getSubSegs(t,o,e,n),{segs:out,lens:o,c:p}}function getSubSegs(t,e,n,r){var o=[],a=n;console.log("Segment: ("+t.start.x+","+t.start.y+") -> ("+t.end.x+","+t.end.y+")");var s="";if(e.length>1)for(var A=0,g=0;A<e.length;)t.start.x===t.end.x?(auxStartX=auxEndX=t.start.x,t.start.y<t.end.y?(auxStartY=t.start.y+g,g+=e[A],auxEndY=auxStartY+e[A]):(auxStartY=t.end.y+g,g+=e[A],auxEndY=auxStartY+e[A])):t.start.y===t.end.y&&(auxStartY=auxEndY=t.start.y,t.start.x<t.end.x?(auxStartX=t.start.x+g,g+=e[A],auxEndX=auxStartX+e[A]):(auxStartX=t.end.x+g,g+=e[A],auxEndX=auxStartX+e[A])),s=r+1+"."+(A+1),o.push({id:a,segId:r,start:{x:auxStartX,y:auxStartY},end:{x:auxEndX,y:auxEndY},dir:!0,ind:!1,disp:s}),A++,a++;else s=""+(r+1),o.push({id:a,segId:r,start:{x:t.start.x,y:t.start.y},end:{x:t.end.x,y:t.end.y},dir:!0,ind:!1,disp:s});return o.forEach(function(t,e){console.log(" > >  ("+t.start.x+","+t.start.y+") -> ("+t.end.x+","+t.end.y+") | id: "+t.id+" | disp: "+t.disp)}),o}function getConfSegById(t,e){var n=[],r=null,o=null;return segGrp_c.children.forEach(function(a){r=parseInt(a.attrs.id.split("_")[0]),o=parseInt(a.attrs.id.split("_")[1]),t===r&&(0===e?n.push(a):e===o&&n.push(a))}),n}function createChannelTable(){var t,e,n,r="",o=" - ",a="",s="",A='<svg><path d="M2 8 L6 13 L14 2"></path></svg>',g=6;if(hasUplight()){g=6,$("#channelTable > thead").html('<tr><th colspan="2">'+strings.tblHead_ch+'<div class="th_inner">'+strings.tblHead_ch+"</div></th><th>"+strings.tblHead_len+'<div class="th_inner" style = "margin-left: 3px">'+strings.tblHead_len+"</div></th><th>"+strings.tblHead_comp+'<div class="th_inner">'+strings.tblHead_comp+"</div></th><th>"+strings.downlight+'<div class="th_inner">'+strings.downlight+"</div></th><th>"+strings.uplight+'<div class="th_inner">'+strings.uplight+"</div></th></tr>");for(var i=0;i<configSegs.length;i++)t=configSegs[i].subSegments,o=getCompositionString(configSegs[i].composition),t.length>1?(r+='<tr class="parent" onmouseleave="highlightChannel(\''+(i+1)+"_0',false)\" onmouseenter=\"highlightChannel('"+(i+1)+"_0',true)\"><td>"+(i+1)+"</td><td></td><td>"+getSegLength(configSegs[i].confSeg)+"</td><td>"+o+"</td><td></td><td></td></tr>",t.forEach(function(t,o){e=t.dir?"checked":"",n=t.ind?"checked":"",a='<input type="checkbox" class="chk" id="dir_'+(i+1)+"_"+(o+1)+'_s" '+e+'/><label for="dir_'+(i+1)+"_"+(o+1)+'_s">'+A+"</label>",s='<input type="checkbox" class="chk" id="ind_'+(i+1)+"_"+(o+1)+'_s" '+n+'/><label for="ind_'+(i+1)+"_"+(o+1)+'_s">'+A+"</label>",r+='<tr class="child ch_'+i+"_"+o+' grabable" onmouseleave="highlightChannel(\''+(i+1)+"_"+(o+1)+"',false)\" onmouseenter=\"highlightChannel('"+(i+1)+"_"+(o+1)+'\',true)"><td><span class="grippy"></span></td><td style="text-align: left;">'+(i+1)+"."+(o+1)+"</td><td>"+getSegLength(t)+"</td><td></td><td>"+a+"</td><td>"+s+"</td></tr>"})):(e=t[0].dir?"checked":"",n=t[0].ind?"checked":"",a='<input type="checkbox" class="chk" id="dir_'+(i+1)+'_0_s" '+e+'/><label for="dir_'+(i+1)+'_0_s">'+A+"</label>",s='<input type="checkbox" class="chk" id="ind_'+(i+1)+'_0_s" '+n+'/><label for="ind_'+(i+1)+'_0_s">'+A+"</label>",r+='<tr class="parent" onmouseleave="highlightChannel(\''+(i+1)+"_0',false)\" onmouseenter=\"highlightChannel('"+(i+1)+"_0',true)\"><td>"+(i+1)+"</td><td><td></td>"+getSegLength(configSegs[i].confSeg)+"</td><td>"+o+"</td><td>"+a+"</td><td>"+s+"</td></tr>")}else{g=5,$("#channelTable > thead").html('<tr><th colspan="2">'+strings.tblHead_ch+'<div class="th_inner">'+strings.tblHead_ch+"</div></th><th>"+strings.tblHead_len+'<div class="th_inner" style = "margin-left: 5px">'+strings.tblHead_len+"</div></th><th>"+strings.tblHead_comp+'<div class="th_inner">'+strings.tblHead_comp+"</div></th><th>"+strings.downlight+'<div class="th_inner">'+strings.downlight+"</div></th></tr>");for(i=0;i<configSegs.length;i++)t=configSegs[i].subSegments,o=getCompositionString(configSegs[i].composition),t.length>1?(r+="<tr><td>"+(i+1)+"</td><td></td><td>"+getSegLength(configSegs[i].confSeg)+"</td><td>"+o+"</td></tr>",t.forEach(function(t,n){e=t.dir?"checked":"",a='<input type="checkbox" class="chk" id="dir_'+(i+1)+"_"+(n+1)+'_s" '+e+'/><label for="dir_'+(i+1)+"_"+(n+1)+'_s">'+A+"</label>",r+='<tr class="child ch_'+i+"_"+n+' grabable"><td><span class="grippy"></span></td><td style="text-align: left;">'+(i+1)+"."+(n+1)+"</td><td>"+getSegLength(t)+"</td><td></td><td>"+a+"</td></tr>"})):(e=t[0].dir?"checked":"",a='<input type="checkbox" class="chk" id="dir_'+(i+1)+'_0_s" '+e+'/><label for="dir_'+(i+1)+'_0_s">'+A+"</label>",r+="<tr><td>"+(i+1)+"</td><td><td></td>"+getSegLength(configSegs[i].confSeg)+"</td><td>"+o+"</td><td>"+a+"</td></tr>")}var d=0;if(configCorners.length>0||configTs.length>0){r+='<tr class="tableSeparator"><td colspan="'+g+'">'+strings.cornersAndTs+"</td></tr>",r+="<br><br>";for(i=0;i<configCorners.length;i++)a='<input type="checkbox" class="chk" id="dir_'+i+'_0_c" checked/><label for="dir_'+i+'_0_c">'+A+"</label>",r+='<tr class="child"><td colspan="2" style="text-allign:center">'+String.fromCharCode(65+i)+"</td><td>560 x 560</td><td></td><td>"+a+"</td><td></td></tr>",d++;r+="<br><br>";for(i=0;i<configTs.length;i++)a='<input type="checkbox" class="chk" id="dir_'+i+'_0_t" checked/><label for="dir_'+i+'_0_t">'+A+"</label>",r+='<tr class="child"><td colspan="2" style="text-allign:center">'+String.fromCharCode(65+i+d)+"</td><td>560 x 590</td><td></td><td>"+a+"</td><td></td>/tr>"}$("#channelTable > tbody").html(r),configSegs.length?$(".table-dragable th:nth-child(1)").css("max-width","0px"):$(".table-dragable th:nth-child(1)").css("max-width","none"),$(".th_inner").each(function(t){$(this).width($(this).parent().width())}),$(".table-dragable tbody .grabable").mousedown(function(t){var e,n=$(t.target).closest("tr"),r=t.pageY;$(t.target).is("tr")&&(n=$(t.target));var o=n.index();$(n).addClass("grabbed");var a=n[0].className.split(/\s+/)[1].split("_")[1],s=n[0].className.split(/\s+/)[1].split("_")[2];function A(t){!e&&Math.abs(t.pageY-r)<10||(e=!0,n.siblings().each(function(){var e=$(this),r=e.index(),o=e.offset().top,s=e[0].className.split(/\s+/),A=!1;if(s.length>1&&(s=s[1].split("_")[1])==a&&(A=!0),t.pageY>=o&&t.pageY<o+e.outerHeight()&&A)return r<n.index()?e.insertAfter(n):e.insertBefore(n),!1}))}$(document).mousemove(A).mouseup(function t(r){if(e&&o!=n.index()){var g=n.index()-o;e=!1;var i=parseInt(s),d=parseInt(s)+g,l=parseInt(a);console.log("moved segment from:"+s+" to:"+d+" on channel "+a+" > nmov:"+g),moveSubSegments(l,i,d)}$(document).unbind("mousemove",A).unbind("mouseup",t),$(n).removeClass("grabbed")})}),$(".chk").bind("change",function(t){var e=t.target.id.split("_")[0],n=parseInt(t.target.id.split("_")[1]),r=parseInt(t.target.id.split("_")[2]),o=t.target.id.split("_")[3];if("dir"==e)switch(o){case"s":getConfSegById(n,r).length>1||(r?configSegs[n-1].subSegments[r-1].dir=t.target.checked:configSegs[n-1].subSegments[r].dir=t.target.checked);break;case"c":configCorners[n].dir=t.target.checked;break;case"t":configTs[n].dir=t.target.checked}else"ind"==e&&(getConfSegById(n,r),n.length>1||(r?configSegs[n-1].subSegments[r-1].ind=t.target.checked:configSegs[n-1].subSegments[r].ind=t.target.checked));console.log(t.target.id)})}function hasUplight(){return 1==$("#installation :selected").val()||2==$("#installation :selected").val()}function getCompositionString(t){var e="";return t.forEach(function(t,n){n&&(e+=" + "),e+=""+Math.round(t*(gridSizeInMM/gridSize))}),e}function highlightChannel(t,e){var n=null;(n=getConfSegById(parseInt(t.split("_")[0]),parseInt(t.split("_")[1]))).length>1?n.forEach(function(t){e?t.stroke("#264F9F"):t.stroke("#000")}):null!=n&&(e?n[0].stroke("#264F9F"):n[0].stroke("#000")),configStage.draw()}function moveSubSegments(t,e,n){array_move(configSegs[t].composition,e,n);var r=getSubSegs(configSegs[t].confSeg,configSegs[t].composition,configSegs[t].subSegments[0].id);r.length==configSegs[t].subSegments.length&&configSegs[t].subSegments.forEach(function(t,e){t.start=r[e].start,t.end=r[e].end,t.id=r[e].id}),drawConfigMap(configSegs,configCorners,configTs),createChannelTable()}function array_move(t,e,n){if(n>=t.length)for(var r=n-t.length+1;r--;)t.push(void 0);t.splice(n,0,t.splice(e,1)[0])}function createPath(){var t=getPiecesArray();if(0==t.length&&0!=segsArray.length&&(loadConfigMap(),t=getPiecesArray()),fillPiecesArray(t),t.length){var e=[],n=[],r=getStartPiece(t);e.push(r),n.push(getPieceById(r,t).data.disp),t[r].path=!0,t[r].path_type="M";for(var o=null;e.length!=t.length;){var a,s=!1,A=getPieceById(e[e.length-1],t);if((a=getPieceById(A.con1,t))&&(a.path||(inPoint=getInPoint(A,a),e.push(a.id),n.push(a.data.disp),t[a.id].path=!0,t[a.id].path_type=getNextPiecePathType(a,inPoint),s=!0,2==a.type&&(o=a))),!s)(a=getPieceById(A.con2,t))&&(a.path||(inPoint=getInPoint(A,a),e.push(a.id),n.push(a.data.disp),t[a.id].path=!0,t[a.id].path_type=getNextPiecePathType(a,inPoint),s=!0,2==a.type&&(o=a)));if(!s)if(2==A.type)(a=getPieceById(A.con3,t))&&(a.path||(inPoint=getInPoint(A,a),e.push(a.id),n.push(a.data.disp),t[a.id].path=!0,t[a.id].path_type=getNextPiecePathType(a,inPoint),s=!0,2==a.type&&(o=a)));if(!s&&o&&(getPieceById(o.con1,t).path||(e.push(o.con1),n.push(getPieceById(o.con1,t).data.disp),t[o.con1].path=!0,t[o.con1].path_type="C",console.log("started a secondary loop with last used T!"),s=!0),getPieceById(o.con2,t).path||(e.push(o.con2),n.push(getPieceById(o.con2,t).data.disp),t[o.con2].path=!0,t[o.con2].path_type="C",console.log("started a secondary loop with last used T!"),s=!0),getPieceById(o.con3,t).path||(e.push(o.con3),n.push(getPieceById(o.con3,t).data.disp),t[o.con3].path=!0,t[o.con3].path_type="C",console.log("started a secondary loop with last used T!"),s=!0),!s))for(var g=0;g<t.length;g++)if(2==t[g].type&&t[g].path){if(!getPieceById(t[g].con1,t).path){e.push(t[g].con1),n.push(getPieceById(t[g].con1,t).data.disp),t[t[g].con1].path=!0,t[t[g].con1].path_type="C",console.log("started a secondary loop with an unfinished T!"),s=!0,o=t[g];break}if(!getPieceById(t[g].con2,t).path){e.push(t[g].con2),n.push(getPieceById(t[g].con2,t).data.disp),t[t[g].con2].path=!0,t[t[g].con2].path_type="C",console.log("started a secondary loop with an unfinished T!"),s=!0,o=t[g];break}if(!getPieceById(t[g].con3,t).path){e.push(t[g].con3),n.push(getPieceById(t[g].con3,t).data.disp),t[t[g].con3].path=!0,t[t[g].con3].path_type="C",console.log("started a secondary loop with an unfinished T!"),s=!0,o=t[g];break}}if(!s)for(g=0;g<t.length;g++)if(2==t[g].type){if(!getPieceById(t[g].con1,t).path){e.push(t[g].con1),n.push(getPieceById(t[g].con1,t).data.disp),t[t[g].con1].path=!0,t[t[g].con1].path_type="C",console.log("started a secondary loop!");break}if(!getPieceById(t[g].con2,t).path){e.push(t[g].con2),n.push(getPieceById(t[g].con2,t).data.disp),t[t[g].con2].path=!0,t[t[g].con2].path_type="C",console.log("started a secondary loop!");break}if(!getPieceById(t[g].con3,t).path){e.push(t[g].con3),n.push(getPieceById(t[g].con3,t).data.disp),t[t[g].con3].path=!0,t[t[g].con3].path_type="C",console.log("started a secondary loop!");break}}}e.forEach(function(e){console.log("Piece ID: "+(t[e].id+1)+" | Piece Type: "+t[e].path_type)});var i="";n.forEach(function(t,e){e==n.length-1?i+=t:i+=t+" -> "}),console.log(i),exportPieces=t}setUpExportMap(),drawExportMap(t),t=assignPiecesCodes(t),modules=t,loadOverviewData(),genOverviewTable(t)}function getPiecesArray(){var t=[],e=0;return configSegs.forEach(function(n,r){for(var o=0;o<n.subSegments.length;o++)t.push({id:e,type:0,con1:null,con2:null,con3:null,path:!1,path_type:null,data:n.subSegments[o]}),e++}),configCorners.forEach(function(n,r){t.push({id:e,type:1,con1:null,con2:null,con3:null,path:!1,path_type:null,data:n}),e++}),configTs.forEach(function(n,r){t.push({id:e,type:2,con1:null,con2:null,con3:null,path:!1,path_type:null,data:n}),e++}),t}function fillPiecesArray(t){t.forEach(function(e,n){switch(e.type){case 0:e.con1=findConnected(e.data.start,e.id,e.type,t),e.con2=findConnected(e.data.end,e.id,e.type,t);break;case 1:e.con1=findConnected(e.data.lim1,e.id,e.type,t),e.con2=findConnected(e.data.lim2,e.id,e.type,t);break;case 2:e.con1=findConnected(e.data.lim1,e.id,e.type,t),e.con2=findConnected(e.data.lim2,e.id,e.type,t),e.con3=findConnected(e.data.lim3,e.id,e.type,t)}})}function findConnected(t,e,n,r){var o=null;return r.forEach(function(r,a){if(r.type!=n||r.id!=e)switch(r.type){case 0:if(comparePoints(t,r.data.start)||comparePoints(t,r.data.end))return void(o=r.id);break;case 1:if(comparePoints(t,r.data.lim1)||comparePoints(t,r.data.lim2))return void(o=r.id);break;case 2:if(comparePoints(t,r.data.lim1)||comparePoints(t,r.data.lim2)||comparePoints(t,r.data.lim3))return void(o=r.id)}}),o}function getPieceById(t,e){for(var n=0;n<e.length;n++)if(e[n].id==t)return e[n];return null}function getStartPiece(t){if(t.length){for(var e=0;e<t.length;e++)if(0==t[e].type&&(null==t[e].con1||null==t[e].con2))return t[e].id;for(e=0;e<t.length;e++)if(1==t[e].type)return t[e].con1}return null}function getCornerID(t){for(var e=0;e<configCorners.length;e++)if(t.x==configCorners[e].c.x&&t.y==configCorners[e].c.y)return configCorners[e].id;return-1}function getTconnectionID(t){for(var e=0;e<configTs.length;e++)if(t.x==configTs[e].point.x&&t.y==configTs[e].point.y)return configTs[e].id;return-1}function getInPoint(t,e){for(var n=getPiecePoints(t),r=getPiecePoints(e),o=0;o<n.length;o++)for(var a=0;a<r.length;a++)if(comparePoints(n[o],r[a]))return n[o];return null}function getPiecePoints(t){var e=[];switch(t.type){case 0:e.push(t.data.start),e.push(t.data.end);break;case 1:e.push(t.data.lim1),e.push(t.data.lim2);break;case 2:e.push(t.data.lim1),e.push(t.data.lim2),e.push(t.data.lim3)}return e}function getNextPiecePathType(t,e){var n;switch(t.type){case 0:n="C";break;case 1:0!=t.data.t&&2!=t.data.t||(n=comparePoints(e,t.data.lim1)?"Y":"C"),1!=t.data.t&&3!=t.data.t||(n=comparePoints(e,t.data.lim1)?"C":"Y");break;case 2:comparePoints(e,t.data.lim3)?n="M":(0!=t.data.t&&1!=t.data.t||(n=comparePoints(e,t.data.lim1)?"C":"Y"),2!=t.data.t&&3!=t.data.t||(n=comparePoints(e,t.data.lim1)?"Y":"C"))}return n}function assignPiecesCodes(t){for(var e=0;e<t.length;e++)t[e].code=getPieceCodeForCustomColor(t[e]);return t}function getPieceCode(t){out="V3",out+=getInstalation().cod,out+=getOptics().cod,t.data.dir?"S"==getOptics().cod||"B"==getOptics().cod?out+=getBeam().cod:out+="J":out+="C";var e=getPieceModulation(t);return out+=e,out+=t.path_type,out+="/",out+=getLedColor().cod,0==t.type?out+=getLengthCod(getSegLength(t.data)):(1==t.type&&(out+=getLengthCod(1120)),2==t.type&&(out+=getLengthCod(1150))),t.data.dir?"S"==getOptics().cod?out+="M":out+=getLightOutput().cod:out+="0",t.data.ind?"S"==getOptics().cod?out+="M":out+=getLightOutput().cod:out+="0",t.data.ind||t.data.dir?out+="D":out+="0",out+=0==e||3==e?0:"5","-"==getColor().cod?out+="X1":out+=getColor().cod,out}function getPieceCodeForCustomColor(t){out="V3",out+=getInstalation().cod,out+=getOptics().cod,t.data.dir?"S"==getOptics().cod||"B"==getOptics().cod?out+=getBeam().cod:out+="J":out+="C";var e=getPieceModulation(t);return out+=e,out+=t.path_type,out+="/",out+=getLedColor().cod,0==t.type?out+=getLengthCod(getSegLength(t.data)):(1==t.type&&(out+=getLengthCod(1120)),2==t.type&&(out+=getLengthCod(1150))),t.data.dir?"S"==getOptics().cod?out+="M":out+=getLightOutput().cod:out+="0",t.data.ind?"S"==getOptics().cod?out+="M":out+=getLightOutput().cod:out+="0",t.data.ind||t.data.dir?out+="D":out+="0",out+=0==e||3==e?0:"5","-"==getColor().cod?out+="X-":out+=getColor().cod,out}function getPieceModulation(t){var e="";switch(t.type){case 0:e=null!==t.con1||null!==t.con2?null==t.con1&&"M"==t.path_type||null==t.con2&&"M"==t.path_type?"1":null!=t.con1&&null!=t.con2?"2":"3":"0";break;case 1:e="4";break;case 2:e="5"}return e}function getLengthCod(t){switch(out="",t){case 280:case 456:out="1";break;case 560:case 912:out="2";break;case 840:case 1368:out="3";break;case 1120:case 1824:out="4";break;case 1400:case 2280:out="5";break;case 1680:case 2736:out="6";break;case 1960:out="7";break;case 2240:out="8";break;case 2520:out="9";break;case 2800:out="0";break;default:out="?"}return out}function setUpExportMap(){var t=$("#exportContainer").width(),e=$("#exportContainer").height();exportLayerImg=new Konva.Layer,exportLayer=new Konva.Layer,exportStage=new Konva.Stage({container:"exportContainer",width:t,height:e,scale:{x:.75,y:.75},name:"exportStage"})}function drawExportMap(t){var e,n,r,o,a;segGrp_e=new Konva.Group,cornGrp_e=new Konva.Group,tGrp_e=new Konva.Group,textpGrp_e=new Konva.Group,imgGrp_e=new Konva.Group,exportLayer.destroy(),exportLayerImg.destroy(),t.forEach(function(t,s){var A="black";if("C"==t.path_type&&(A="#00bfff"),"M"==t.path_type)if(0==t.type){var g,i,d,l;i=(t.data.end.y-t.data.start.y)/2,l=t.data.end.y-i,g=(t.data.end.x-t.data.start.x)/2,d=t.data.end.x-g-50;var c=new Image;c.onload=function(){var t=new Konva.Image({name:"boltIMG",image:c,x:d,y:l,scaleX:.4,scaleY:.4,width:100,height:100});segGrp_e.add(t),t.moveToTop(),exportStage.draw()},c.src="images/electricity_lightning_symbol.png",A="#ff00bf"}else A="#ff00bf";switch("Y"==t.path_type&&(A="#ffbf00"),t.type){case 0:t.data.start.x==t.data.end.x?(a=[t.data.start.x,t.data.start.y+1,t.data.end.x,t.data.end.y-1],r=t.data.start.x+10,o=t.data.start.y<t.data.end.y?t.data.start.y+Math.abs(t.data.end.y-t.data.start.y)/2-7:t.data.end.y+Math.abs(t.data.start.y-t.data.end.y)/2-7):(a=[t.data.start.x+1,t.data.start.y,t.data.end.x-1,t.data.end.y],o=t.data.start.y+15,r=t.data.start.x<t.data.end.x?t.data.start.x+Math.abs(t.data.end.x-t.data.start.x)/2-5:t.data.end.x+Math.abs(t.data.start.x-t.data.end.x)/2-5);break;case 1:switch(a=[t.data.lim1.x,t.data.lim1.y,t.data.c.x,t.data.c.y,t.data.lim2.x,t.data.lim2.y],t.data.t){case 0:r=t.data.c.x-25,o=t.data.c.y-25;break;case 1:r=t.data.c.x-25,o=t.data.c.y+10;break;case 2:r=t.data.c.x+10,o=t.data.c.y+10;break;case 3:r=t.data.c.x+10,o=t.data.c.y-25}break;case 2:switch(a=[t.data.lim1.x,t.data.lim1.y,t.data.point.x,t.data.point.y,t.data.lim3.x,t.data.lim3.y,t.data.point.x,t.data.point.y,t.data.lim2.x,t.data.lim2.y],t.data.t){case 0:r=t.data.point.x-25,o=t.data.point.y-5;break;case 1:r=t.data.point.x-5,o=t.data.point.y-25;break;case 2:r=t.data.point.x+10,o=t.data.point.y-5;break;case 3:r=t.data.point.x-5,o=t.data.point.y+10}}e=new Konva.Line({points:a,strokeWidth:15,stroke:A,opacity:1}),n=new Konva.Text({x:r,y:o,text:t.data.disp,align:"center",verticalAlign:"middle",fontSize:20,fill:"black"}),segGrp_e.add(e),textpGrp_e.add(n)}),exportLayer.add(segGrp_e),exportLayer.add(textpGrp_e),exportLayer.add(imgGrp_e),exportStage.add(exportLayer,exportLayerImg),zoomFit(exportStage),exportStage.draw()}function loadOverviewData(){$("#projName").html(strings.projName+": <strong>"+projectDef.project.name+"</strong>"),$("#projRoom").html(strings.room+": <strong>"+projectDef.project.room+"</strong>"),$("#projAddress").html(strings.projAddress+": <strong>"+projectDef.project.address+"</strong>"),$("#projDate").html(strings.date+": <strong>"+projectDef.project.date+"</strong>"),$("#contName").html(strings.contName+": <strong>"+projectDef.contact.name+"</strong>"),$("#contAddress").html(strings.contAddress+": <strong>"+projectDef.contact.address+"</strong>"),$("#contCountry").html(strings.country+": <strong>"+projectDef.contact.country+"</strong>"),$("#contPhone").html(strings.phone+": <strong>"+projectDef.contact.phone+"</strong>"),$("#contEmail").html(strings.mail+": <strong>"+projectDef.contact.email+"</strong>"),$("#housing").html(strings.housing+": <strong>"+strings.alumProfile+"</strong>"),$("#total_length").html(strings.total_length+": <strong>"+getTotalLen(modules)+" mm </strong>"),$("#ley_source").html(strings.lightSource+": <strong>"+getLightOutput().name+" &#8231; "+getLedColor().name+"</strong>"),1==opticsMode?$("#ley_optics").html(strings.optics+": <strong>"+getOptics().name+" &#8231; "+strings.diffuseLD+"</strong>"):2==opticsMode&&$("#ley_optics").html(strings.optics+": <strong>"+getOptics().name+" &#8231; "+getBeam().ld+"</strong>"),$("#ley_color").html(strings.color+": <strong>"+getColor().name+"</strong>"),$("#ley_driver").html(strings.driver+": <strong> "+strings.driver_dali+" </strong>"),$("#ley_voltage").html(strings.voltage+": <strong>230-240V</strong>"),$("#ley_freq").html(strings.frequency+": <strong>50Hz AC</strong>"),$("#ley_photoSafety").html(strings.photoSafety+": <strong>IEC/TR 62778: RG 1</strong>");var t=calcLineParam();$("#ley_ugr").html(strings.ugr+": <strong> &#8804; "+calcUGR()+" </strong>"),$("#lumFlux_tot").html(strings.lumFlux_tot+": <strong>"+t.tot+" "+strings.lumen+"</strong>"),$("#lumFlux_up").html(strings.lumFlux_up+": <strong>"+t.up+" "+strings.lumen+"</strong>"),$("#lumFlux_down").html(strings.lumFlux_down+": <strong>"+t.dwn+" "+strings.lumen+"</strong>"),$("#lumEfficacy").html(strings.lumEfficacy+": <strong>"+t.eff+" lm/W </strong>");var e=getLLMFValue().toString().substring(0,4);$("#LLMF").html("LLMF: <strong>"+e+"</strong>"),$("#ley_power").html(strings.power+": <strong>"+t.pow+" W</strong>"),$("#number_of_drivers").html(strings.number_of_drivers+": <strong>"+getNumberOfDrivers()+"</strong>"),$("#max_drivers").html(strings.max_drivers);var n=TotalPowerFactor().toString().substring(0,4);$("#tot_power_ft").html(strings.power_factor+": <strong>"+n+" </strong>");var r=t.tot/getTotalLen(modules)*1e3;modules.length&&$("#tender").html(strings.tender_intro_1+ifHasUpLight()+getInstallationTranslation()+getLuminaire()+getOpticsTranslations()+strings.tender_enec_certified_1+strings.tender_warranty_1+strings.tender_general_1+strings.tender_dimensions_1+getTotalLen(modules)+strings.tender_dimensions_2+strings.tender_IP_20+strings.tender_IK_07+strings.tender_Glowwire_850+strings.tender_light_technology_1+getDistribution()+strings.tender_UGR_1+calcUGR()+strings.tender_UGR_2+checkLuminance()+strings.tender_luminous_flux_1+t.tot+strings.tender_luminous_flux_2+Math.round(r)+strings.tender_luminous_flux_3+uplightNotZero()+strings.tender_power_1+t.pow+strings.tender_power_2+strings.tender_efficiency_1+Math.round(t.tot/t.pow)+strings.tender_efficiency_2+strings.tender_LLMF_1+"95"+strings.tender_LLMF_2+"95"+strings.tender_LLMF_3+strings.tender_colour_temperature_1+getLedColor().name+strings.tender_colour_temperature_2+strings.tender_colour_rendering_1+"80"+strings.tender_colour_rendering_2+strings.tender_colour_tolerance_1+hasShield()+strings.tender_electrical_1+strings.tender_dali_driver_1+strings.tender_insulation_class_1+strings.tender_Housing_1+strings.tender_Housing_2+strings.tender_colour_1+getColor().name+strings.tender_Housing_3+getSuspendedInstallation()+strings.tender_outro_1)}function ifHasUpLight(){for(var t=0,e=0;e<modules.length;e++)1==modules[e].data.ind?t++:t+=0;return 0!=t?strings.tender_uplight_1:""}function getLuminaire(){return 1==modules.length?strings.tender_individual_luminaire_1:strings.tender_in_line_luminaire_1}function getInstallationTranslation(){var t=getInstalation().cod;return"R"==t?strings.tender_installation_ceiling_mounted:"W"==t?strings.tender_installation_wall_mounted:strings.tender_installation_suspended}function getOpticsTranslations(){var t="",e=getOptics().cod;return"D"==e&&modules.length>1?t=strings.tender_intro_2:"S"==e?(t=strings.tender_intro_3,t+=strings.tender_intro_4):"B"==e&&(t=strings.tender_intro_3,t+=strings.tender_intro_5),t}function getDistribution(){var t=getOptics().cod,e=getBeam().cod;return"D"==t?strings.tender_light_distribution_diffuse:"1"==e?strings.tender_light_distribution_medium_beam:strings.tender_light_distribution_wide_beam}function checkLuminance(){var t=getOptics().cod;return"S"==t||"B"==t?strings.tender_luminance:""}function uplightNotZero(){var t=calcLineParam(),e="";return 0!=t.up?(e+=strings.tender_uplight_2,e+=t.dwn,e+=strings.tender_uplight_3,e+=t.up,e+=strings.tender_uplight_4,e+=Math.round(t.dwn/t.tot*100),e+=strings.tender_uplight_5,e+=Math.round(t.up/t.tot*100),e+=strings.tender_uplight_6):e="",e}function getColorTranslation(){var t=getColor().cod;return"X1"==t?strings.color_op2:"X0"==t?strings.color_op1:"X2"==t?strings.color_op2:strings.custom_ral}function getSuspendedInstallation(){var t="",e=getSuspensionType().type,n=getInstalation().cod;return"S"==n&&0==e?(t=strings.tender_suspended_junction_box_1,t+=getColor().name,t+=strings.tender_suspended_junction_box_2,modules.length>1?(t+=strings.tender_suspended_electric_installation_1,t+=strings.tender_connection_in_line_1):t+=strings.tender_suspended_electric_installation_3):"S"==n&&1==e?modules.length>1?(t=strings.tender_suspended_electric_installation_2,t+=strings.tender_connection_in_line_1):t+=strings.tender_suspended_electric_installation_4:("R"==n||"W"==n&&1==checkInLine())&&(t=strings.tender_wall_or_ceiling_in_line_1,t+=strings.tender_connection_in_line_1),t}function checkInLine(){return modules.length>1}function lightDistributionCheck(){count=0;var t=0;for(t=0;t<modules.length-1;t++)if(0==modules[t].type&&0==modules[t+1].type){if(modules[t].data.ind!=modules[t+1].data.ind||modules[t].data.dir!=modules[t+1].data.dir){count=1;break}count+=0}else{if(modules[t].data.dir!=modules[t+1].data.dir){count=1;break}count+=0}return count}function hasShield(){var t;return"false"===shieldingAngle().angle&&"false"===shieldingAngle().factors||(t=strings.tender_shielding_angle_1+shieldingAngle().angle+strings.tender_shielding_angle_2+strings.tender_room_utilization_factor_1+shieldingAngle().factors+strings.tender_room_utilization_factor_2),t}function shieldingAngle(){var t="",e="";if(0==lightDistributionCheck()){var n=getPieceCode(modules[0]),r=n.substr(3,2),o=n.substr(10,2);switch(r){case"DJ":if("LL"==o){t="80°/80°",e="min. 60%";break}if("L0"==o){t="85°/85°",e="min 71%";break}if("MM"==o){t="80°/80°",e="min. 60%";break}t="85°/85°",e="min. 71%";break;case"S1":if("MM"==o){t="65°/65°",e="min. 67%";break}t="65°/75°",e="min. 81%";break;case"S3":if("MM"==o){t="60°/65°",e="min. 65%";break}t="65°/70°",e="min. 75%";break;case"B1":if("MM"==o){t="60°/60°",e="min. 67%";break}t="60°/65°",e="min. 83%";break;case"B3":if("MM"==o){t="60°/60°",e="min. 65%";break}t="60°/60°",e="min. 78%"}}else t="false",e="false";return{angle:t,factors:e}}function getNumberOfDrivers(){for(var t=0,e=0;e<modules.length;e++){var n=getPieceCode(modules[e]);void 0!==codeList[n]?drivers=codeList[n].drivers:drivers=0,t+=drivers}return t}function getCodesData(){$.ajax({global:!1,url:"res/ley_codes.csv",success:function(t){parseCodesData(t)}})}function parseCodesData(t){for(var e=t.split(/\r\n|\n/),n=(e[0].split(";").length,[]),r=1;r<e.length;r++){var o=e[r].split(";");n[""+o[0]]={ltr:o[1],llmf:parseFloat(o[16]),err:parseInt(o[17]),tot:parseInt(o[18]),pow:parseInt(o[19]),pwft:parseFloat(o[20]),up:parseInt(o[21]),dwn:parseInt(o[22]),ugr:parseInt(o[23]),c0:parseInt(o[24]),c1:parseInt(o[25]),drivers:parseInt(o[26])}}codeList=n}function getLLMFValue(){for(var t,e=10,n=0;n<modules.length;n++){if(0==modules[n].type){var r=getPieceCode(modules[n]);void 0!==codeList[r]&&(t=codeList[r].llmf)}0==t||e>t&&(e=t)}return e}function TotalPowerFactor(){calcLineParam();for(var t=0,e=0,n=0;n<modules.length;n++)if(0==modules[n].type){var r=getPieceCode(modules[n]);if(void 0!==codeList[r]){pwft=codeList[r].pwft,pow=codeList[r].pow,e+=pow;var o=Math.acos(pwft),a=Math.tan(o);t+=pow*a}}var s=Math.pow(e,2)+Math.pow(t,2);return(e/Math.sqrt(s)).toFixed(2)}function calcUGR(){for(var t=0,e=0;e<modules.length;e++){var n=getPieceCode(modules[e]);if(void 0!==codeList[n]){if(t<codeList[n].ugr&&(t=codeList[n].ugr),25===t)return 25}else console.log(">Code not present on codeList: "+n)}return t}function calcLineParam(){for(var t,e=0,n=0,r=0,o=0,a=0;a<modules.length;a++){var s=getPieceCode(modules[a]);void 0!==codeList[s]?(e+=codeList[s].up,n+=codeList[s].dwn,r+=codeList[s].pow):console.log(">Code not present on codeList: "+s)}return t=e+n,r&&(o=Math.round(t/r)),{tot:t,up:e,dwn:n,pow:r,eff:o}}function genOverviewTable(t){if(html='<table id="chOverviewTable" class="export_table"><thead>',hasUplight()){html+='<tr><th colspan="2" style = "margin-left: 10px">'+strings.tblHead_ch+"</th><th>"+strings.tblHead_len+"</th><th>"+strings.downlight+"</th><th>"+strings.uplight+"</th><th>"+strings.orderCode+"</th><th>ULD</th></tr>",html+="</thead><tbody>";for(var e=0;e<configSegs.length;e++){if((i=configSegs[e].subSegments).length>1){var n=getCompositionString(configSegs[e].composition);html+="<tr><td>"+i[0].disp.split(".")[0]+"</td><td></td><td>"+fatherSumCompositon(n)+"</td><td></td><td></td><td></td><td></td></tr>",i.forEach(function(e){var n="",r="";e.dir&&(n="&#10003"),e.ind&&(r="&#10003");var o=getPieceCode(getPieceBySegId(e.id,t)),a=getPieceCodeForCustomColor(getPieceBySegId(e.id,t));if(void 0!==codeList[o])var s=codeList[o].ltr;var A='<a href="https://ley.etaplighting.com/ley/uld/'+o.replace("/","_")+s+'.uld" type="application/octet-stream" title="'+o+'_LTRevAA.uld" target="_blank">ULD file (drag &amp; drop)</a>';html+="<tr><td></td><td>"+e.disp+"</td><td>"+getSegLength(e)+"</td><td>"+n+"</td><td>"+r+"</td><td>"+a+"</td><td>"+A+"</td></tr>"})}else{var r="",o="";i[0].dir&&(r="&#10003"),i[0].ind&&(o="&#10003");var a=getPieceCode(getPieceBySegId(i[0].id,t)),s=getPieceCodeForCustomColor(getPieceBySegId(i[0].id,t));if(void 0!==codeList[a])var A=codeList[a].ltr;var g='<a href="https://ley.etaplighting.com/ley/uld/'+a.replace("/","_")+A+'.uld" type="application/octet-stream" title="'+a+'_LTRevAA.uld" target="_blank">ULD file (drag &amp; drop)</a>';html+="<tr><td>"+i[0].disp+"</td><td></td><td>"+getSegLength(i[0])+"</td><td>"+r+"</td><td>"+o+"</td><td>"+s+"</td><td>"+g+"</td></tr>"}}}else{html+='<tr><th colspan="2">'+strings.tblHead_ch+"</th><th>"+strings.tblHead_len+"</th><th>"+strings.downlight+"</th><th>"+strings.orderCode+"</th><th>ULD</th></tr>",html+="</thead><tbody>";for(e=0;e<configSegs.length;e++){var i;if((i=configSegs[e].subSegments).length>1){n=getCompositionString(configSegs[e].composition);html+="<tr><td>"+i[0].disp.split(".")[0]+"</td><td></td><td>"+fatherSumCompositon(n)+"</td><td></td><td></td><td></td></tr>",i.forEach(function(e){var n="";e.dir&&(n="&#10003");var r=getPieceCode(getPieceBySegId(e.id,t)),o=getPieceCodeForCustomColor(getPieceBySegId(e.id,t));if(void 0!==codeList[r])var a=codeList[r].ltr;var s='<a href="https://ley.etaplighting.com/ley/uld/'+r.replace("/","_")+a+'.uld" type="application/octet-stream" title="'+r+'_LTRevAA.uld" target="_blank">ULD file (drag &amp; drop)</a>';html+="<tr><td></td><td>"+e.disp+"</td><td>"+getSegLength(e)+"</td><td>"+n+"</td><td>"+o+"</td><td>"+s+"</td></tr>"})}else{r="";i[0].dir&&(r="&#10003");a=getPieceCode(getPieceBySegId(i[0].id,t)),s=getPieceCodeForCustomColor(getPieceBySegId(i[0].id,t));if(void 0!==codeList[a])A=codeList[a].ltr;g='<a href="https://ley.etaplighting.com/ley/uld/'+a.replace("/","_")+A+'.uld" type="application/octet-stream" title="'+a+'_LTRevAA.uld" target="_blank">ULD file (drag &amp; drop)</a>';html+="<tr><td>"+i[0].disp+"</td><td></td><td>"+getSegLength(i[0])+"</td><td>"+r+"</td><td>"+s+"</td><td>"+g+"</td></tr>"}}}html+="</tbody></table>",configCorners.length>0&&(html+='<table id="cornerOverviewTable" class="export_table">',html+='<thead><tr><th style="width:120px">'+strings.corners+"</th><th>"+strings.downlight+"</th><th>"+strings.orderCode+"</th><th>ULD</th></tr></thead>",html+="<tbody>",t.forEach(function(t,e){if(1==t.type){var n="";t.data.dir&&(n="&#10003");var r=getPieceCode(t),o=getPieceCodeForCustomColor(t);if(void 0!==codeList[r])var a=codeList[r].ltr;var s='<a href="https://ley.etaplighting.com/ley/uld/'+r.replace("/","_")+a+'.uld" type="application/octet-stream" title="'+r+'_LTRevAA.uld" target="_blank">ULD file (drag &amp; drop)</a>';html+="<tr><td>"+t.data.disp+"</td><td>"+n+"</td><td>"+o+"</td><td>"+s+"</td></tr>"}}),html+="</tbody></table>"),configTs.length>0&&(html+='<table id="tconnOverviewTable" class="export_table">',html+='<thead><tr><th style="width:120px">'+strings.tConns+"</th><th>"+strings.downlight+"</th><th>"+strings.orderCode+"</th><th>ULD</th></tr></thead>",html+="<tbody>",t.forEach(function(t,e){if(2==t.type){var n="";t.data.dir&&(n="&#10003");var r=getPieceCode(t),o=getPieceCodeForCustomColor(t);if(void 0!==codeList[r])var a=codeList[r].ltr;var s='<a href="https://ley.etaplighting.com/ley/uld/'+r.replace("/","_")+a+'.uld" type="application/octet-stream" title="'+r+'_LTRevAA.uld" target="_blank">ULD file (drag &amp; drop)</a>';html+="<tr><td>"+t.data.disp+"</td><td>"+n+"</td><td>"+o+"</td><td>"+s+"</td></tr>"}}),html+="</tbody></table>");var d=[];if(1==opticsMode&&t.length>1){if(html+='<table class="export_table">',html+='<thead><tr><th style="width:120px">'+strings.diffProfile+"</th><th>"+strings.tblHead_len+"</th><th>"+strings.orderCode+"</th></tr></thead>",html+="<tbody>",diffLength=getTotalDownlightLen(t),diffLength<=49e3)a=getDiffuserProfileCode(diffLength),d.push(diffLength),html+="<tr><td>"+strings.diffProfile+"</td><td>"+diffLength+"</td><td>"+a+"</td></tr>";else{for(;diffLength>49e3;)a=getDiffuserProfileCode(diffLength),d.push(diffLength),diffLength-=49e3,html+="<tr><td>"+strings.diffProfile+"</td><td>49000</td><td>"+a+"</td></tr>";a=getDiffuserProfileCode(diffLength),d.push(diffLength),html+="<tr><td>"+strings.diffProfile+"</td><td>"+diffLength+"</td><td>"+a+"</td></tr>"}html+="</tbody></table>"}switch(html+='<table class="export_table">',html+="<thead><tr><th>"+strings.mountAccess+"</th><th>"+strings.quantity+"</th><th>"+strings.orderCode+"</th></tr></thead>",html+="<tbody>",html+="<tr><td>"+strings.dossier+"</td><td>1</td><td>V3H9900</td></tr>",getInstalation().sel){case"0":var l=t.length+1;l+=configTs.length,html+="<tr><td>"+strings.ceilingMount+"</td><td>"+l+"</td><td>V3H2500</td></tr>";break;case"1":l=t.length+1;html+="<tr><td>"+strings.wallMount+"</td><td>"+l+"</td><td>V3H2700</td></tr>";break;case"2":var c=getSuspensionType().type,C=getSuspensionType().len,u=(a="","");if(t.length>1){0==c?(a="V3H2610/"+(C/10).toString().pad(3)+"-5"+getColor().cod,u=strings.sus_box):(a="V3H2611/"+parseInt(C/10)+"-5",u=strings.sus_minimal),html+="<tr><td>"+u+"</td><td>1</td><td>"+a+"</td></tr>",a="V3H2620/"+(C/10).toString().pad(3);l=t.length+configTs.length;html+="<tr><td>"+strings.sus_additional+"</td><td>"+l+"</td><td>"+a+"</td></tr>"}else 0==c?(a="V3H2600/"+parseInt(C/10)+"-5"+getColor().cod,u=strings.sus_box):(a="V3H2601/"+parseInt(C/10)+"-5",u=strings.sus_minimal),html+="<tr><td>"+u+"</td><td>1</td><td>"+a+"</td></tr>"}1==opticsMode&&t.length>1&&d.forEach(function(t){t<=5e3||(html+=t<=12e3?"<tr><td>"+strings.diffCoverPlate+"</td><td>2</td><td>V3H1208/1-"+getColor().cod+"</td></tr>":t<=25e3?"<tr><td>"+strings.diffCoverPlate+"</td><td>2</td><td>V3H1208/2-"+getColor().cod+"</td></tr>":"<tr><td>"+strings.diffCoverPlate+"</td><td>2</td><td>V3H1208/4-"+getColor().cod+"</td></tr>")}),html+="</tbody></table>",$("#overviewComponents").html(html)}function getPieceBySegId(t,e){for(var n=0;n<e.length;n++)if(0==e[n].type&&e[n].data.id==t)return e[n];return-1}function getTotalDownlightLen(t){var e=0;return t.forEach(function(t){if(t.data.dir)switch(t.type){case 0:e+=getSegLength(t.data);break;case 1:e+=1120;break;case 2:e+=1960}}),e}function getTotalLen(t){var e=0;return t.forEach(function(t){switch(t.type){case 0:e+=getSegLength(t.data);break;case 1:e+=1120;break;case 2:e+=1960}}),e}function getDiffuserProfileCode(t){var e="";return t<=3e3?e="V3H3090/03000":t<=4e4&&(t/=1e3,e="V3H3090/"+(t=1e3*Math.ceil(t)).toString().pad(5)),t>4e4&&(e="V3H3090/49000"),e}function calcBound(t,e,n,r,o,a,s,A,g,i){return 0===e&&0===t&&(n=s,r=s,o=g,a=g,s,g),n>=s&&(n=s),n>=A&&(n=A),r<=s&&(r=s),r<=A&&(r=A),o>=g&&(o=g),o>=i&&(o=i),a<=g&&(a=g),a<=i&&(a=i),{xmin:n,xmax:r,ymin:o,ymax:a,xcenter:n+Math.abs(r-n)/2,ycenter:o+Math.abs(a-o)/2}}function getFocusArea(){var t,e,n,r,o,a,s;if(segsArray.length){for(var A=0;A<segsArray.length;A++){t=(s=calcBound(A,0,t,e,n,r,segsArray[A].start.x,segsArray[A].end.x,segsArray[A].start.y,segsArray[A].end.y)).xmin,e=s.xmax,n=s.ymin,r=s.ymax,o=s.xcenter,a=s.ycenter}return{xmin:t,ymin:n,xmax:e,ymax:r,width:e-t,height:r-n,xcenter:o,ycenter:a}}return!1}function zoomFit(t){var e=t.getWidth(),n=t.getHeight(),r=t.getScaleX(),o=getFocusArea();if(o){var a=e/(o.width+100),s=n/(o.height+100);r=a>s?s:a,"designStage"==t.attrs.name&&(r>maxScale&&(r=maxScale),r<minScale&&(r=minScale)),t.scaleX(r),t.scaleY(r),t.offsetX(o.xcenter),t.offsetY(o.ycenter),t.setX(.5*t.getWidth()),t.setY(.5*t.getHeight()),"designStage"==t.attrs.name?(zoomVars_design.origin={x:t.x()-o.xcenter,y:t.y()-o.ycenter},zoomVars_design.scale=r):"configStage"==t.attrs.name&&(zoomVars_config.origin={x:o.xcenter+t.x(),y:o.ycenter+t.y()})}}function getDataUri(t){return new Promise(e=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(t){var n=new FileReader;n.onload=function(t){img=t.target.result,e(img)};var r=this.response;n.readAsDataURL(r)},n.send()})}function genProjectSummary(){return new Promise(async t=>{var e=new jsPDF;url="./images/images_pdf/"+getPieceCodeForImages()+".jpg",img=await getDataUri(url),e.page=1,footer(e,"p");var n=15;e.setLineWidth(.6),e.setDrawColor(255,192,0),e.line(15,15,195,15),e.setFontSize(18),n+=8,e.text(17,n,strings.title),n+=8,e.setFontSize(16),e.text(17,n,strings.projSumm),e.addImage(img,"JPG",105,20,90,90),n+=15,e.setFontSize(12),e.setFontStyle("bold"),e.text(17,n,strings.project),n+=7,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.name),e.setFontStyle("bold"),e.text(48,n,projectDef.project.name),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.room),e.setFontStyle("bold"),e.text(48,n,projectDef.project.room),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.address),e.setFontStyle("bold"),e.text(48,n,projectDef.project.address),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.date),e.setFontStyle("bold"),e.text(48,n,projectDef.project.date),n+=12,e.setFontSize(12),e.setFontStyle("bold"),e.text(17,n,strings.contact),n+=7,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.name),e.setFontStyle("bold"),e.text(48,n,projectDef.contact.name),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.address),e.setFontStyle("bold"),e.text(48,n,projectDef.contact.address),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.country),e.setFontStyle("bold"),e.text(48,n,projectDef.contact.country),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.phone),e.setFontStyle("bold"),e.text(48,n,projectDef.contact.phone),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.mail),n+=5,e.setFontStyle("bold"),e.text(17,n,projectDef.contact.email),n+=6,e.setFontStyle("normal"),e.text(17,n,strings.addInfo),n+=5,e.setFontStyle("normal"),e.splitTextToSize(projectDef.extra,170).forEach(function(t){n<182&&(n+=4,e.text(22,n,t))}),n+=12,e.setFontSize(12),e.setFontStyle("bold"),e.text(17,n,strings.lineProp),n+=7,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.housing),e.setFontStyle("bold"),e.text(63,n,strings.alumProfile),n+=5,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.total_length),e.setFontStyle("bold"),e.text(63,n,getTotalLen(modules)+" mm"),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.lightSource),e.setFontStyle("bold"),e.text(63,n,getLightOutput().name+" - "+getLedColor().name),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.optics),e.setFontStyle("bold"),1==opticsMode?(e.text(63,n,getOptics().name+" - "+strings.diffuseLD),n+=5):2==opticsMode&&(e.text(63,n,getOptics().name+" - "+getBeam().ld),n+=5),e.setFontStyle("normal"),e.text(17,n,strings.ugr),e.setFontStyle("bold"),e.text(63,n,"<= "+calcUGR().toString());var r=calcLineParam();n+=5,e.setFontStyle("normal"),e.text(17,n,strings.lumFlux_tot),e.setFontStyle("bold"),e.text(63,n,r.tot.toString()+" "+strings.lumen),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.lumFlux_down),e.setFontStyle("bold"),e.text(63,n,r.dwn.toString()+" "+strings.lumen),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.lumFlux_up),e.setFontStyle("bold"),e.text(63,n,r.up.toString()+" "+strings.lumen),n+=5,e.setFontStyle("normal"),e.text(17,n,strings.lumEfficacy),e.setFontStyle("bold"),e.text(63,n,r.eff.toString()+" lm/W"),n+=5,e.setFontStyle("normal"),e.text(17,n,"LLMF"),e.setFontStyle("bold");var o=getLLMFValue().toString().substring(0,4);e.text(63,n,o),n+=5,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.color),e.setFontStyle("bold"),e.text(63,n,getColor().name),n+=5,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.driver),e.setFontStyle("bold"),e.text(63,n,strings.driver_dali),n+=5,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.number_of_drivers),e.setFontStyle("bold"),e.text(63,n,getNumberOfDrivers().toString()),n+=5,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.max_drivers),n+=14,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.power),e.setFontStyle("bold"),e.text(63,n,r.pow.toString()+" W"),n+=5,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.power_factor),e.setFontStyle("bold");var a=TotalPowerFactor().toString().substring(0,4);e.text(63,n,a),n+=5,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.voltage),e.setFontStyle("bold"),e.text(63,n,"230-240V"),n+=5,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.frequency),e.setFontStyle("bold"),e.text(63,n,"50Hz AC"),n+=5,e.setFontSize(10),e.setFontStyle("normal"),e.text(17,n,strings.photoSafety),e.setFontStyle("bold"),e.text(63,n,"IEC/TR 62778: RG 1"),e.addPage(),footer(e,"p"),n=15,e.setFontSize(12),e.setFontStyle("bold"),e.text(17,n,strings.lineDsgn),n+=5;var s=getPiecesArray(),A=exportStage.toDataURL(),g=exportStage.width()/exportStage.height();if(g>=1?(e.addImage(A,"PNG",15,n,180,Math.round(180/g)),n+=Math.round(180/g)):(xAux=Math.round((180-150*g)/2)+15,e.addImage(A,"PNG",xAux,n,Math.round(150*g),150),n+=150),n+=5,e.setFontSize(12),e.setFontStyle("bold"),e.text(17,n,strings.components),n+=8,hasUplight()){var i=20,d=40,l=93,c=139,C=180;n=addSegTableHeader(e,n,!0);for(var u=0;u<configSegs.length;u++){if(n>269&&(e.addPage(),footer(e,"p"),n=addSegTableHeader(e,n=15,!0)),(y=configSegs[u].subSegments).length>1)n+=5,e.text(i+2,n,y[0].disp.split(".")[0]),e.text(d,n,getCompositionString(configSegs[u].composition)),y.forEach(function(t){n>269&&(e.addPage(),footer(e,"p"),n=addSegTableHeader(e,n=15,!0)),n+=5;var r=getPieceCode(getPieceBySegId(t.id,modules)),o=getPieceCodeForCustomColor(getPieceBySegId(t.id,modules));if(void 0!==codeList[r])var a=codeList[r].ltr;e.text(i+6,n,t.disp),e.text(d,n,getSegLength(t).toString()),t.dir&&e.text(l+7,n,"x"),t.ind&&e.text(118,n,"x"),e.text(c,n,o),e.setTextColor(0,0,255),e.textWithLink("ULD",C,n,{url:"https://ley.etaplighting.com/ley/uld/"+r.replace("/","_")+a+".uld"}),e.setTextColor(0,0,0),e.setFontStyle("normal")});else{n>269&&(e.addPage(),footer(e,"p"),n=addSegTableHeader(e,n=15,!0)),n+=5;var p=getPieceCode(getPieceBySegId(y[0].id,s));if(void 0!==codeList[p])var I=codeList[p].ltr;e.text(i+2,n,y[0].disp),e.text(d,n,getSegLength(y[0]).toString()),y[0].dir&&e.text(l+7,n,"x"),y[0].ind&&e.text(118,n,"x"),e.text(c,n,getPieceCodeForCustomColor(getPieceBySegId(y[0].id,modules))),e.setTextColor(0,0,255),e.textWithLink("ULD",C,n,{url:"https://ley.etaplighting.com/ley/uld/"+p.replace("/","_")+I+".uld"}),e.setTextColor(0,0,0),e.setFontStyle("normal")}}}else{i=20,d=40,l=95,c=135,C=180;n=addSegTableHeader(e,n,!1);for(u=0;u<configSegs.length;u++){var y;if(n>269&&(e.addPage(),footer(e,"p"),n=addSegTableHeader(e,n=15,!1)),(y=configSegs[u].subSegments).length>1)n+=5,e.text(i+2,n,y[0].disp.split(".")[0]),e.text(d,n,getCompositionString(configSegs[u].composition)),y.forEach(function(t){n>269&&(e.addPage(),footer(e,"p"),n=addSegTableHeader(e,n=15,!1)),n+=5;var r=getPieceCode(getPieceBySegId(t.id,modules)),o=getPieceCodeForCustomColor(getPieceBySegId(t.id,modules));if(void 0!==codeList[r])var a=codeList[r].ltr;e.text(i+6,n,t.disp),e.text(d,n,getSegLength(t).toString()),t.dir&&e.text(l+7,n,"x"),e.text(c,n,o),e.setTextColor(0,0,255),e.textWithLink("ULD",C,n,{url:"https://ley.etaplighting.com/ley/uld/"+r.replace("/","_")+a+".uld"}),e.setTextColor(0,0,0),e.setFontStyle("normal")});else{n>269&&(e.addPage(),footer(e,"p"),n=addSegTableHeader(e,n=15,!1)),n+=5;p=getPieceCode(getPieceBySegId(y[0].id,s));if(void 0!==codeList[p])I=codeList[p].ltr;e.text(i+2,n,y[0].disp),e.text(d,n,getSegLength(y[0]).toString()),y[0].dir&&e.text(l+7,n,"x"),e.text(c,n,getPieceCodeForCustomColor(getPieceBySegId(y[0].id,modules))),e.setFontStyle("italic"),e.setTextColor(0,0,255),e.textWithLink("ULD",C,n,{url:"https://ley.etaplighting.com/ley/uld/"+p.replace("/","_")+I+".uld"}),e.setTextColor(0,0,0),e.setFontStyle("normal")}}}if(configCorners.length>0){i=20,l=95,c=135,C=180;(n+=10)>259&&(e.addPage(),footer(e,"p"),n=15),e.setFontSize(10),e.setFontStyle("bold"),e.text(i,n,strings.corners),e.text(l,n,strings.downlight),e.text(c,n,strings.orderCode),e.text(C,n,"ULD"),n+=1,e.setLineWidth(.4),e.setDrawColor(0,0,0),e.line(17,n,193,n),e.setFontStyle("normal"),modules.forEach(function(t,r){if(1==t.type){n>269&&(e.addPage(),footer(e,"p"),n=15,e.setFontSize(10),e.setFontStyle("bold"),e.text(i,n,strings.corners),e.text(l,n,strings.downlight),e.text(c,n,strings.orderCode),e.link(C,n,"ULD"),n+=1,e.setLineWidth(.4),e.setDrawColor(0,0,0),e.line(17,n,193,n),e.setFontStyle("normal"));var o=getPieceCode(t),a=getPieceCodeForCustomColor(t);if(void 0!==codeList[o])var s=codeList[o].ltr;n+=5,e.text(i+2,n,t.data.disp),t.data.dir&&e.text(l+7,n,"x"),e.text(c,n,a),e.setTextColor(0,0,255),e.textWithLink("ULD",C,n,{url:"https://ley.etaplighting.com/ley/uld/"+o.replace("/","_")+s+".uld"}),e.setTextColor(0,0,0),e.setFontStyle("normal")}})}if(configTs.length>0){i=20,l=95,c=135,C=180;(n+=10)>259&&(e.addPage(),footer(e,"p"),n=15),e.setFontSize(10),e.setFontStyle("bold"),e.text(i,n,strings.tConns),e.text(l,n,strings.downlight),e.text(c,n,strings.orderCode),e.text(C,n,"ULD"),n+=1,e.setLineWidth(.4),e.setDrawColor(0,0,0),e.line(17,n,193,n),e.setFontStyle("normal"),modules.forEach(function(t,r){if(2==t.type){n>269&&(e.addPage(),footer(e,"p"),n=15,e.setFontSize(10),e.setFontStyle("bold"),e.text(i,n,strings.tConns),e.text(l,n,strings.downlight),e.text(c,n,strings.orderCode),e.link(C,n,"ULD"),n+=1,e.setLineWidth(.4),e.setDrawColor(0,0,0),e.line(17,n,193,n),e.setFontStyle("normal"));var o=getPieceCode(t),a=getPieceCodeForCustomColor(t);if(void 0!==codeList[o])var s=codeList[o].ltr;n+=5,e.text(i+2,n,t.data.disp),t.data.dir&&e.text(l+7,n,"x"),e.text(c,n,a),e.setTextColor(0,0,255),e.textWithLink("ULD",C,n,{url:"https://ley.etaplighting.com/ley/uld/"+o.replace("/","_")+s+".uld"}),e.setTextColor(0,0,0),e.setFontStyle("normal")}})}if(1==opticsMode&&modules.length>1){i=20,d=100,c=155;(n+=10)>259&&(e.addPage(),footer(e,"p"),n=15),e.setFontSize(10),e.setFontStyle("bold"),e.text(i,n,strings.diffProfile),e.text(d,n,strings.tblHead_len),e.text(c,n,strings.orderCode),n+=1,e.setLineWidth(.4),e.setDrawColor(0,0,0),e.line(17,n,193,n),e.setFontStyle("normal");var x=[],h=getTotalDownlightLen(modules);if(h<=49e3)x.push(h),n+=5,e.text(i+2,n,strings.diffProfile),e.text(d,n,h.toString()),e.text(c,n,getDiffuserProfileCode(h));else{for(;h>49e3;)n>255&&(e.addPage(),footer(e,"p"),n=15,e.setFontSize(10),e.setFontStyle("bold"),e.text(i,n,strings.diffProfile),e.text(d,n,strings.tblHead_len),e.text(c,n,strings.orderCode)),x.push(h),n+=5,p=getDiffuserProfileCode(h),e.text(i+2,n,strings.diffProfile),e.text(d,n,"49000".toString()),e.text(c,n,getDiffuserProfileCode(h)),h-=49e3;x.push(h),n+=5,e.text(i+2,n,strings.diffProfile),e.text(d,n,h.toString()),e.text(c,n,getDiffuserProfileCode(h))}}i=20,d=130,c=155;switch((n+=10)>249&&(e.addPage(),footer(e,"p"),n=15),e.setFontSize(10),e.setFontStyle("bold"),e.text(i,n,strings.mountAccess),e.text(d,n,strings.quantity),e.text(c,n,strings.orderCode),n+=1,e.setLineWidth(.4),e.setDrawColor(0,0,0),e.line(17,n,193,n),e.setFontStyle("normal"),n+=5,e.text(i+2,n,strings.dossier),e.text(d,n,"1"),e.text(c,n,"V3H9900"),n+=5,getInstalation().sel){case"0":var f=modules.length+1;f+=configTs.length,e.text(i+2,n,strings.ceilingMount),e.text(d,n,f.toString()),e.text(c,n,"V3H2500");break;case"1":f=modules.length+1;e.text(i+2,n,strings.wallMount),e.text(d,n,f.toString()),e.text(c,n,"V3H2700");break;case"2":var m=getSuspensionType().type,b=getSuspensionType().len,v=(p="","");if(modules.length>1){0==m?(p="V3H2610/"+parseInt(b/10)+"-5"+getColor().cod,v=strings.sus_box):(p="V3H2611/"+parseInt(b/10)+"-5",v=strings.sus_minimal),e.text(i+2,n,v),e.text(d,n,"1"),e.text(c,n,p),n+=5,p="V3H2620/"+parseInt(b/10);f=modules.length+configTs.length;e.text(i+2,n,strings.sus_additional),e.text(d,n,f.toString()),e.text(c,n,p)}else 0==m?(p="V3H2600/"+parseInt(b/10)+"-5"+getColor().cod,v=strings.sus_box):(p="V3H2601/"+parseInt(b/10)+"-5",v=strings.sus_minimal),e.text(i+2,n,v),e.text(d,n,"1"),e.text(c,n,p)}1==opticsMode&&modules.length>1&&x.forEach(function(t){n+=5,t<=5e3||(t<=12e3?(e.text(i+2,n,strings.diffCoverPlate),e.text(d,n,"2"),e.text(c,n,"V3H1208/1-"+getColor().cod)):t<=25e3?(e.text(i+2,n,strings.diffCoverPlate),e.text(d,n,"2"),e.text(c,n,"V3H1208/2-"+getColor().cod)):(e.text(i+2,n,strings.diffCoverPlate),e.text(d,n,"2"),e.text(c,n,"V3H1208/4-"+getColor().cod)))}),n+=40;var S=e.splitTextToSize($("#tender").val(),180);n+4*S.length>160&&(e.addPage(),footer(e,"p"),n=15),e.setFontSize(12),e.setFontStyle("bold"),e.text(17,n,strings.tenderTitle),n+=8,e.setFontStyle("normal"),e.setFontSize(8),e.setFont("courier"),e.text(17,n,S,{maxWidth:180,align:"justify"}),t(e)})}function addSegTableHeader(t,e,n){if(n){var r=20,o=40,a=93,s=(n=113,139),A=180;t.setFontSize(10),t.setFontStyle("bold"),t.text(r,e,strings.tblHead_ch),t.text(o,e,strings.tblHead_len),t.text(a,e,strings.downlight),t.text(n,e,strings.uplight),t.text(s,e,strings.orderCode),t.text(A,e,"ULD"),e+=1,t.setLineWidth(.4),t.setDrawColor(0,0,0),t.line(17,e,193,e),t.setFontStyle("normal")}else{r=20,o=40,a=115,s=155,A=180;t.setFontSize(10),t.setFontStyle("bold"),t.text(r,e,strings.tblHead_ch),t.text(o,e,strings.tblHead_len),t.text(a,e,strings.downlight),t.text(s,e,strings.orderCode),t.text(A,e,"ULD"),e+=1,t.setLineWidth(.4),t.setDrawColor(0,0,0),t.line(17,e,193,e),t.setFontStyle("normal")}return e}function genInstallationSummary(){var t=new jsPDF;t.page=1,footer(t,"p");var e=15;t.setLineWidth(.6),t.setDrawColor(255,192,0),t.line(15,15,195,15),t.setFontSize(18),e+=8,t.text(17,e,strings.installTitle),e+=8,t.setFontSize(16),t.text(17,e,strings.installSubtitle),e+=15,t.setFontSize(12),t.setFontStyle("bold"),t.text(17,e,strings.project),e+=7,t.setFontSize(10),t.setFontStyle("normal"),t.text(17,e,strings.name),t.setFontStyle("bold"),t.text(48,e,projectDef.project.name),e+=5,t.setFontStyle("normal"),t.text(17,e,strings.room),t.setFontStyle("bold"),t.text(48,e,projectDef.project.room),e+=5,t.setFontStyle("normal"),t.text(17,e,strings.address),t.setFontStyle("bold"),t.text(48,e,projectDef.project.address),e+=5,t.setFontStyle("normal"),t.text(17,e,strings.date),t.setFontStyle("bold"),t.text(48,e,projectDef.project.date);var n=calcLineParam();e+=12,t.setFontSize(12),t.setFontStyle("bold"),t.text(17,e,strings.install),e+=7,t.setFontSize(10),t.setFontStyle("normal"),t.text(17,e,strings.driver),t.setFontStyle("bold"),t.text(48,e,strings.driver_dali),e+=5,t.setFontSize(10),t.setFontStyle("normal"),t.text(17,e,strings.number_of_drivers),t.setFontStyle("bold"),t.text(48,e,getNumberOfDrivers().toString()),e+=5,t.setFontSize(10),t.setFontStyle("normal"),t.text(17,e,strings.max_drivers),e+=14,t.setFontSize(10),t.setFontStyle("normal"),t.text(17,e,strings.power),t.setFontStyle("bold"),t.text(48,e,n.pow.toString()+" W"),e+=5,t.setFontSize(10),t.setFontStyle("normal"),t.text(17,e,strings.voltage),t.setFontStyle("bold"),t.text(48,e,"230-240V"),e+=5,t.setFontStyle("normal"),t.text(17,e,strings.frequency),t.setFontStyle("bold"),t.text(48,e,"50Hz AC"),e+=10,t.setFontStyle("normal"),t.text(17,e,strings.electrical_connection),t.addPage(),footer(t,"p");e=15;t.setLineWidth(.6),t.setDrawColor(255,192,0),t.line(15,15,195,15),t.setFontSize(18),t.setFontStyle("normal"),e+=8,t.text(17,e,strings.installTitle),e+=8,t.setFontSize(16),t.text(17,e,strings.dimensions),e+=2;var r=designStage.clone();r.find(".gridLayer").destroy(),r.find(".tipLayer").destroy();var o=r.width()/r.height();r.width(2*r.width()),r.height(2*r.height()),zoomFit(r);var a=r.toDataURL();o>=1?(t.addImage(a,"PNG",15,e,180,Math.round(180/o)),e+=Math.round(180/o)):(xAux=Math.round((180-150*o)/2)+15,t.addImage(imgData,"PNG",xAux,e,Math.round(250*ratioAux),150),e+=150),r.destroy(),t.addPage(),footer(t,"p");e=15;t.setLineWidth(.6),t.setDrawColor(255,192,0),t.line(15,15,195,15),t.setFontSize(18),e+=8,t.text(17,e,strings.installTitle),e+=8,t.setFontSize(16),t.text(17,e,strings.componentsInstall);var s=exportStage.toDataURL(),A=exportStage.width()/exportStage.height();if(A>=1?(t.addImage(s,"PNG",15,e,180,Math.round(180/A)),e+=Math.round(180/A)):(xAux=Math.round((180-150*A)/2)+15,t.addImage(s,"PNG",xAux,e,Math.round(150*A),150),e+=150),e+=5,t.setFontSize(12),t.setFontStyle("bold"),t.text(17,e,strings.components),e+=8,hasUplight()){var g=20,i=40,d=80,l=100,c=155;e=addSegTableHeaderPDF(t,e,!0);for(var C=0;C<configSegs.length;C++){if(e>269&&(t.addPage(),footer(t,"p"),e=addSegTableHeaderPDF(t,e=15,!0)),(p=configSegs[C].subSegments).length>1)e+=5,t.text(g+2,e,p[0].disp.split(".")[0]),t.text(i,e,getCompositionString(configSegs[C].composition)),p.forEach(function(n){e>269&&(t.addPage(),footer(t,"p"),e=addSegTableHeaderPDF(t,e=15,!0));var r=[];auxColor=getPieceBySegId(n.id,modules).path_type,"M"==auxColor?(auxColor="Magenta",r[0]=255,r[1]=0,r[2]=191):"C"==auxColor?(auxColor="Cyan",r[0]=0,r[1]=191,r[2]=255):(auxColor="Yellow",r[0]=255,r[1]=191,r[2]=0),e+=5,t.text(g+6,e,n.disp),t.text(i,e,getSegLength(n).toString()),t.setTextColor(r[0],r[1],r[2]),t.text(d,e,auxColor),t.setTextColor(0,0,0),n.dir&&t.text(l+7,e,"x"),n.ind&&t.text(135,e,"x"),t.text(c,e,getPieceCodeForCustomColor(getPieceBySegId(n.id,modules)))});else{e>269&&(t.addPage(),footer(t,"p"),e=addSegTableHeaderPDF(t,e=15,!0));var u=[];"M"==(I=getPieceBySegId(p[0].id,modules).path_type)?(I="Magenta",u[0]=255,u[1]=0,u[2]=191):"C"==I?(I="Cyan",u[0]=0,u[1]=191,u[2]=255):(I="Yellow",u[0]=255,u[1]=191,u[2]=0),e+=5,t.text(g+2,e,p[0].disp),t.text(i,e,getSegLength(p[0]).toString()),t.setTextColor(u[0],u[1],u[2]),t.text(d,e,I),t.setTextColor(0,0,0),p[0].dir&&t.text(l+7,e,"x"),p[0].ind&&t.text(135,e,"x"),t.text(c,e,getPieceCodeForCustomColor(getPieceBySegId(p[0].id,modules)))}}}else{g=20,i=40,d=80,l=130,c=155;e=addSegTableHeaderPDF(t,e,!1);for(C=0;C<configSegs.length;C++){var p;if(e>269&&(t.addPage(),footer(t,"p"),e=addSegTableHeaderPDF(t,e=15,!1)),(p=configSegs[C].subSegments).length>1)e+=5,t.text(g+2,e,p[0].disp.split(".")[0]),t.text(i,e,getCompositionString(configSegs[C].composition)),p.forEach(function(n){e>269&&(t.addPage(),footer(t,"p"),e=addSegTableHeaderPDF(t,e=15,!1));var r=[],o=getPieceBySegId(n.id,modules).path_type;"M"==o?(o="Magenta",r[0]=255,r[1]=0,r[2]=191):"C"==o?(o="Cyan",r[0]=0,r[1]=191,r[2]=255):(o="Yellow",r[0]=255,r[1]=191,r[2]=0),e+=5,t.text(g+6,e,n.disp),t.text(i,e,getSegLength(n).toString()),t.setTextColor(r[0],r[1],r[2]),t.text(d,e,o),t.setTextColor(0,0,0),n.dir&&t.text(l+7,e,"x"),t.text(c,e,getPieceCodeForCustomColor(getPieceBySegId(n.id,modules)))});else{e>269&&(t.addPage(),footer(t,"p"),e=addSegTableHeaderPDF(t,e=15,!1));var I;u=[];"M"==(I=modules[C].path_type)?(I="Magenta",u[0]=255,u[1]=0,u[2]=191):"C"==I?(I="Cyan",u[0]=0,u[1]=191,u[2]=255):(I="Yellow",u[0]=255,u[1]=191,u[2]=0),e+=5,t.text(g+2,e,p[0].disp),t.setTextColor(u[0],u[1],u[2]),t.text(d,e,I),t.setTextColor(0,0,0),t.text(i,e,getSegLength(p[0]).toString()),p[0].dir&&t.text(l+7,e,"x"),t.text(c,e,getPieceCodeForCustomColor(getPieceBySegId(p[0].id,modules)))}}}if(configCorners.length>0){g=20,l=100,c=155;(e+=10)>259&&(t.addPage(),footer(t,"p"),e=15),t.setFontSize(10),t.setFontStyle("bold"),t.text(g,e,strings.corners),t.text(d,e,strings.color),t.text(l,e,strings.downlight),t.text(c,e,strings.orderCode),e+=1,t.setLineWidth(.4),t.setDrawColor(0,0,0),t.line(17,e,193,e),t.setFontStyle("normal"),modules.forEach(function(n,r){if(1==n.type){e>269&&(t.addPage(),footer(t,"p"),e=15,t.setFontSize(10),t.setFontStyle("bold"),t.text(g,e,strings.corners),t.text(d,e,strings.color),t.text(l,e,strings.downlight),t.text(c,e,strings.orderCode),e+=1,t.setLineWidth(.4),t.setDrawColor(0,0,0),t.line(17,e,193,e),t.setFontStyle("normal"));var o=[];auxCornes=modules[n.id].path_type,"M"==auxCornes?(auxCornes="Magenta",o[0]=255,o[1]=0,o[2]=191):"C"==auxCornes?(auxCornes="Cyan",o[0]=0,o[1]=191,o[2]=255):(auxCornes="Yellow",o[0]=255,o[1]=191,o[2]=0),e+=5,t.text(g+2,e,n.data.disp),t.setTextColor(o[0],o[1],o[2]),t.text(d,e,auxCornes),t.setTextColor(0,0,0),n.data.dir&&t.text(l+7,e,"x"),t.text(c,e,getPieceCodeForCustomColor(n))}})}if(configTs.length>0){g=20,l=100,c=155;(e+=10)>259&&(t.addPage(),footer(t,"p"),e=15),t.setFontSize(10),t.setFontStyle("bold"),t.text(g,e,strings.tConns),t.text(l,e,strings.downlight),t.text(c,e,strings.orderCode),e+=1,t.setLineWidth(.4),t.setDrawColor(0,0,0),t.line(17,e,193,e),t.setFontStyle("normal"),modules.forEach(function(n,r){if(2==n.type){e>269&&(t.addPage(),footer(t,"p"),e=15,t.setFontSize(10),t.setFontStyle("bold"),t.text(g,e,strings.tConns),t.text(d,e,strings.color),t.text(l,e,strings.downlight),t.text(c,e,strings.orderCode),e+=1,t.setLineWidth(.4),t.setDrawColor(0,0,0),t.line(17,e,193,e),t.setFontStyle("normal"));var o=[];auxTcorners=modules[n.id].path_type,"M"==auxTcorners?(auxTcorners="Magenta",o[0]=255,o[1]=0,o[2]=191):"C"==auxTcorners?(auxTcorners="Cyan",o[0]=0,o[1]=191,o[2]=255):(auxTcorners="Yellow",o[0]=255,o[1]=191,o[2]=0),e+=5,t.text(g+2,e,n.data.disp),t.setTextColor(o[0],o[1],o[2]),t.text(d,e,auxTcorners),t.setTextColor(0,0,0),n.data.dir&&t.text(l+7,e,"x"),t.text(c,e,getPieceCodeForCustomColor(n))}})}if(1==opticsMode&&modules.length>1){g=20,i=100,c=155;(e+=10)>259&&(t.addPage(),footer(t,"p"),e=15),t.setFontSize(10),t.setFontStyle("bold"),t.text(g,e,strings.diffProfile),t.text(i,e,strings.tblHead_len),t.text(c,e,strings.orderCode),e+=1,t.setLineWidth(.4),t.setDrawColor(0,0,0),t.line(17,e,193,e),t.setFontStyle("normal");var y=[],x=getTotalDownlightLen(modules);if(x<=49e3)y.push(x),e+=5,t.text(g+2,e,strings.diffProfile),t.text(i,e,x.toString()),t.text(c,e,getDiffuserProfileCode(x));else{for(;x>49e3;)e>255&&(t.addPage(),footer(t,"p"),e=15,t.setFontSize(10),t.setFontStyle("bold"),t.text(g,e,strings.diffProfile),t.text(i,e,strings.tblHead_len),t.text(c,e,strings.orderCode)),y.push(x),e+=5,b=getDiffuserProfileCode(x),t.text(g+2,e,strings.diffProfile),t.text(i,e,"49000".toString()),t.text(c,e,getDiffuserProfileCode(x)),x-=49e3;y.push(x),e+=5,t.text(g+2,e,strings.diffProfile),t.text(i,e,x.toString()),t.text(c,e,getDiffuserProfileCode(x))}}g=20,i=100,c=155;switch((e+=10)>249&&(t.addPage(),footer(t,"p"),e=15),t.setFontSize(10),t.setFontStyle("bold"),t.text(g,e,strings.mountAccess),t.text(i,e,strings.quantity),t.text(c,e,strings.orderCode),e+=1,t.setLineWidth(.4),t.setDrawColor(0,0,0),t.line(17,e,193,e),t.setFontStyle("normal"),e+=5,t.text(g+2,e,strings.dossier),t.text(i,e,"1"),t.text(c,e,"V3H9900"),e+=5,getInstalation().sel){case"0":var h=modules.length+1;h+=configTs.length,t.text(g+2,e,strings.ceilingMount),t.text(i,e,h.toString()),t.text(c,e,"V3H2500");break;case"1":h=modules.length+1;t.text(g+2,e,strings.wallMount),t.text(i,e,h.toString()),t.text(c,e,"V3H2700");break;case"2":var f=getSuspensionType().type,m=getSuspensionType().len,b="",v="";if(modules.length>1){0==f?(b="V3H2610/"+parseInt(m/10)+"-5"+getColor().cod,v=strings.sus_box):(b="V3H2611/"+parseInt(m/10)+"-5",v=strings.sus_minimal),t.text(g+2,e,v),t.text(i,e,"1"),t.text(c,e,b),e+=5,b="V3H2620/"+parseInt(m/10);h=modules.length+configTs.length;t.text(g+2,e,strings.sus_additional),t.text(i,e,h.toString()),t.text(c,e,b)}else 0==f?(b="V3H2600/"+parseInt(m/10)+"-5"+getColor().cod,v=strings.sus_box):(b="V3H2601/"+parseInt(m/10)+"-5",v=strings.sus_minimal),t.text(g+2,e,v),t.text(i,e,"1"),t.text(c,e,b)}1==opticsMode&&modules.length>1&&y.forEach(function(n){e+=5,n<=5e3||(n<=12e3?(t.text(g+2,e,strings.diffCoverPlate),t.text(i,e,"2"),t.text(c,e,"V3H1208/1-"+getColor().cod)):n<=25e3?(t.text(g+2,e,strings.diffCoverPlate),t.text(i,e,"2"),t.text(c,e,"V3H1208/2-"+getColor().cod)):(t.text(g+2,e,strings.diffCoverPlate),t.text(i,e,"2"),t.text(c,e,"V3H1208/4-"+getColor().cod)))}),t.addPage(),footer(t,"p");e=15;switch(t.setLineWidth(.6),t.setDrawColor(255,192,0),t.line(15,15,195,15),t.setFontSize(18),e+=8,t.text(17,e,strings.installTitle),e+=8,t.setFontSize(16),t.text(17,e,strings.installation_manuals),e+=15,t.setFontSize(10),t.setFontStyle("normal"),1==checkInLine()?(t.text(17,e,strings.installation_manual_in_line),e+=5,t.setTextColor(0,0,255),t.text(30,e,"https://www.etaplighting.com/sites/default/files/uploads/Manuals/V3E9980.pdf"),t.setTextColor(0,0,0),e+=5):1==modules.length&&(t.text(17,e,strings.installation_manual_individual),e+=5,t.setTextColor(0,0,255),t.text(30,e,"https://www.etaplighting.com/sites/default/files/uploads/Manuals/V3E9990.pdf"),t.setTextColor(0,0,0),e+=5),1==checkCorners()&&(t.text(17,e,strings.installation_manual_corner),e+=5,t.setTextColor(0,0,255),t.text(30,e,"https://www.etaplighting.com/sites/default/files/uploads/Manuals/V3E9940.pdf"),t.setTextColor(0,0,0),e+=5),1==checkTpieces()&&(t.text(17,e,strings.installation_manual_T_piece),e+=5,t.setTextColor(0,0,255),t.text(30,e,"https://www.etaplighting.com/sites/default/files/uploads/Manuals/V3E9970.pdf"),t.setTextColor(0,0,0),e+=5),1==hasDiffusorAndLength()&&(t.text(17,e,strings.installation_manual_cover_plate),e+=5,t.setTextColor(0,0,255),t.text(30,e,"https://www.etaplighting.com/sites/default/files/uploads/Manuals/V3E9930.pdf"),t.setTextColor(0,0,0),e+=5),e+=8,t.setFontSize(16),t.text(17,e,"Videos to install"),e+=15,t.setFontSize(10),t.setFontStyle("normal"),getInstalation().sel){case"0":"D"==getOptics().cod?(t.text(17,e,strings.installation_video_ceiling_diff),e+=5,t.setTextColor(0,0,255),t.text(30,e,strings.installation_video_ceiling_diff_link),t.setTextColor(0,0,0),e+=5,t.text(17,e,strings.installation_video_diffusor_optic),e+=5,t.setTextColor(0,0,255),t.text(30,e,strings.installation_video_diffusor_optic_link),t.setTextColor(0,0,0),e+=5):"S"==getOptics().cod&&"B"==getOptics().cod&&(t.text(17,e,strings.installation_video_ceiling_shield),e+=5,t.setTextColor(0,0,255),t.text(30,e,strings.installation_video_ceiling_shield_link),t.setTextColor(0,0,0),e+=5);break;case"1":"D"==getOptics().cod&&(t.text(17,e,strings.installation_video_wall_diff),e+=5,t.setTextColor(0,0,255),t.text(30,e,strings.installation_video_wall_diff_link),t.setTextColor(0,0,0),e+=5,t.text(17,e,strings.installation_video_diffusor_optic),e+=5,t.setTextColor(0,0,255),t.text(30,e,strings.installation_video_diffusor_optic_link),t.setTextColor(0,0,0),e+=5);break;case"2":"D"==getOptics().cod?(t.text(17,e,strings.installation_video_suspended_diff),e+=5,t.setTextColor(0,0,255),t.text(30,e,strings.installation_video_suspended_diff_link),t.setTextColor(0,0,0),e+=5,t.text(17,e,strings.installation_video_diffusor_optic),e+=5,t.setTextColor(0,0,255),t.text(30,e,strings.installation_video_diffusor_optic_link),t.setTextColor(0,0,0),e+=5):"S"==getOptics().cod&&"B"==getOptics().cod&&(t.text(17,e,strings.installation_video_suspended_shield),e+=5,t.setTextColor(0,0,255),t.text(30,e,strings.installation_video_suspended_shield_link),t.setTextColor(0,0,0),e+=5)}return 1==checkCorners()&&(t.text(17,e,strings.installation_video_corner),e+=5,t.setTextColor(0,0,255),t.text(30,e,strings.installation_video_corner_link),t.setTextColor(0,0,0),e+=5),1==checkTpieces()&&(t.text(17,e,strings.installation_video_t_piece),e+=5,t.setTextColor(0,0,255),t.text(30,e,strings.installation_video_t_piece_link),t.setTextColor(0,0,0),e+=5),t}function checkCorners(){for(var t=0;t<modules.length;t++)if(1==modules[t].type)return!0}function checkTpieces(){for(var t=0;t<modules.length;t++)if(2==modules[t].type)return!0}function hasDiffusorAndLength(){if(getTotalLen(modules)>5e3)return!0}function addSegTableHeaderPDF(t,e,n){if(n){var r=20,o=40,a=80,s=100,A=(n=130,155);t.setFontSize(10),t.setFontStyle("bold"),t.text(r,e,strings.tblHead_ch),t.text(o,e,strings.tblHead_len),t.text(a,e,strings.color),t.text(s,e,strings.downlight),t.text(n,e,strings.uplight),t.text(A,e,strings.orderCode),e+=1,t.setLineWidth(.4),t.setDrawColor(0,0,0),t.line(17,e,193,e),t.setFontStyle("normal")}else{r=20,o=40,a=80,s=130,A=155;t.setFontSize(10),t.setFontStyle("bold"),t.text(r,e,strings.tblHead_ch),t.text(o,e,strings.tblHead_len),t.text(a,e,strings.color),t.text(s,e,strings.downlight),t.text(A,e,strings.orderCode),e+=1,t.setLineWidth(.4),t.setDrawColor(0,0,0),t.line(17,e,193,e),t.setFontStyle("normal")}return e}function footer(t,e){t.setLineWidth(.6),t.setDrawColor(255,192,0),t.setFontSize(6),"p"==e&&(t.line(15,275,195,275),t.text(193,280,"This document has been compiled by ETAP with the greatest possible care.",{align:"right"}),t.text(193,283,"However, the information contained in this publication is not binding and may change due to technical development.",{align:"right"}),t.text(193,286,"ETAP is not liable for any damage whatsoever resulting from the use of this document.",{align:"right"}),t.text(193,289,"www.etaplighting.com // Made in Belgium",{align:"right"}),t.addImage(etplg,"JPEG",17,277,35,12)),t.setFontSize(10),t.page++}function checkEmail(t){if(!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t))var e="<div class='dialog-ovelay'><div class='dialog'><header> <h3> Email </h3> </header><div class='dialog-msg'> <p> "+strings.wrongEmail+" </p> </div><footer><div class='controls'> <button class='button button-clear doAction'>OK</button> </div></footer></div></div>";$("body").prepend(e),$(".doAction").click(function(){$(this).parents(".dialog-ovelay").fadeOut(500,function(){$(this).remove()})})}function warningMsg(t,e){var n="<div class='dialog-ovelay'><div class='dialog'><header> <h3> "+t+" </h3> </header><div class='dialog-msg'> <p> "+e+" </p> </div><footer><div class='controls'> <button class='button button-clear doAction'>OK</button> </div></footer></div></div>";$("body").prepend(n),$(".doAction").click(function(){$(this).parents(".dialog-ovelay").fadeOut(500,function(){$(this).remove()})})}function confirmDel(t,e,n,r){var o="<div class='dialog-ovelay'><div class='dialog'><header> <h3> "+t+" </h3> </header><div class='dialog-msg'> <p> "+e+" </p> </div><footer><div class='controls'> <button class='button button-default cancelAction'>"+r+"</button>  <button class='button button-danger doAction'>"+n+"</button> </div></footer></div></div>";$("body").prepend(o),$(".doAction").click(function(){cleanDesign(),reCalculateDesign(),$(this).parents(".dialog-ovelay").fadeOut(500,function(){$(this).remove()})}),$(".cancelAction").click(function(){$(this).parents(".dialog-ovelay").fadeOut(500,function(){$(this).remove()})})}function hasDrawing(){return null!==segsArray.length&&0!==segsArray.length}function CSV(){var t=modules,e=(Object.keys(t[0]),[[strings.orderCode,strings.quantity,strings.description,strings.room]]),n="",r=[];t.forEach(function(t){r.push(t.code)}),[...new Set(r)].map(t=>[t,r.filter(e=>e===t).length]).forEach(function(t){e.push([t[0],t[1],"Luminaire",projectDef.project.room])});var o=[];if(1==opticsMode&&modules.length>1)if(diffLength=getTotalDownlightLen(modules),diffLength<=49e3)g=getDiffuserProfileCode(diffLength),o.push(diffLength),e.push([g,"1",strings.diffProfile,projectDef.project.room]);else{for(;diffLength>49e3;)g=getDiffuserProfileCode(diffLength),o.push(diffLength),diffLength-=49e3,e.push([g,"1",strings.diffProfile,projectDef.project.room]);g=getDiffuserProfileCode(diffLength),o.push(diffLength),e.push([g,"1",strings.diffProfile,projectDef.project.room])}switch(e.push(["V3H9900","1",strings.dossier,projectDef.project.room]),getInstalation().sel){case"0":var a=modules.length+1;a+=configTs.length,e.push(["V3H2500",a,strings.ceilingMount,projectDef.project.room]);break;case"1":a=modules.length+1;e.push(["V3H2700",a,strings.wallMount,projectDef.project.room]);break;case"2":var s=getSuspensionType().type,A=getSuspensionType().len,g="",i="";if(modules.length>1){0==s?(g="V3H2610/"+(A/10).toString().pad(3)+"-5"+getColor().cod,i=strings.sus_box):(g="V3H2611/"+parseInt(A/10)+"-5",i=strings.sus_minimal),e.push([g,1,i,projectDef.project.room]),g="V3H2620/"+(A/10).toString().pad(3);a=modules.length+configTs.length;e.push([g,a,strings.sus_additional,projectDef.project.room])}else 0==s?(g="V3H2600/"+parseInt(A/10)+"-5"+getColor().cod,i=strings.sus_box):(g="V3H2601/"+parseInt(A/10)+"-5",i=strings.sus_minimal),e.push([g,1,i,projectDef.project.room])}1==opticsMode&&modules.length>1&&o.forEach(function(t){t<=5e3||(t<=12e3?(g="V3H1208/1-"+getColor().cod,e.push([g,2,strings.diffCoverPlate,projectDef.project.room])):t<=25e3?(g="V3H1208/2-"+getColor().cod,e.push([g,2,strings.diffCoverPlate,projectDef.project.room])):(g="V3H1208/4-"+getColor().cod,e.push([g,2,strings.diffCoverPlate,projectDef.project.room])))});e.forEach(function(t){n+=t.join(";"),n+="\n"});let d=document.createElement("a");d.id="download-csv",d.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(universalBOM+n)),d.setAttribute("download","Ley-"+projectDef.project.name+"-"+projectDef.project.room+"-orderlist.csv"),document.body.appendChild(d),document.querySelector("#download-csv").click(),d.parentNode.removeChild(d)}function getPieceCodeForImages(){return out="V3",out+=getInstalation().cod,out+=getOptics().cod,out+="0",out+="M",1==modules[0].data.ind?out+="M":out+="0","3"==getColor().sel?out+="X1":out+=getColor().cod,out}function fatherSumCompositon(t){for(var e=0,n=t.split("+"),r=0;r<n.length;r++)e+=parseInt(n[r]);return e}function getDirectionAutoCad(t){return t.data.start.x==t.data.end.x?"v":"h"}function StartPoint(){var t=(modules[0].data.start.x-modules[0].data.end.x)/2,e=(modules[0].data.start.y-modules[0].data.end.y)/2,n=(modules[0].data.end.x-t)/gridSize*gridSizeInMM,r=(modules[0].data.end.y-e)/gridSize*gridSizeInMM,o=(getSegLength(modules[0].data),"");return"h"==getDirectionAutoCad(modules[0])?(o=n+",",o+=50-r):(o=n-50+",",o+=-r)}function LastPoint(){var t=(modules[0].data.start.x-modules[0].data.end.x)/2,e=(modules[0].data.start.y-modules[0].data.end.y)/2,n=(modules[0].data.end.x-t)/gridSize*gridSizeInMM,r=(modules[0].data.end.y-e)/gridSize*gridSizeInMM,o=(getSegLength(modules[0].data),"");return"h"==getDirectionAutoCad(modules[0])?(o=n+",",o+=-r-230):(o=n+230+",",o+=-r)}function RotationAngleFirstSegment(t){return"h"==getDirectionAutoCad(t)?0:90}function RotationAngleEverySegment(t){return"h"==getDirectionAutoCad(t)?t.data.start.x>t.data.end.x?-270:-90:t.data.start.y>t.data.end.y?-180:0}function EveryAutoCadSegment(){for(var t="",e=0;e<modules.length;e++)0==modules[e].type?(t+="-COLOR "+colorNumber(modules[e]),t+="\r\n",t+="RECTANGLE",t+="\r\n",t+=StartPointEverySegment(modules[e]),t+="\r\n",t+=LastPointEverySegment(modules[e]),t+="\r\n",t+="ROTATE LAST SINGLE",t+="\r\n",t+=MiddlePointsEverySegment(modules[e]),t+="\r\n",t+=RotationAngleEverySegment(modules[e]),t+="\r\n"):1==modules[e].type?(t+="-COLOR "+colorNumber(modules[e]),t+="\r\n",t+="PLINE",t+="\r\n",t+=EveryPointOnCorner(modules[e]),t+="CLOSE",t+="\r\n",t+="ROTATE LAST SINGLE",t+="\r\n",t+=centerPointsCorners(modules[e]),t+="\r\n",t+=cornerRotation(modules[e]),t+="\r\n"):(t+="-COLOR "+colorNumber(modules[e]),t+="\r\n",t+="PLINE",t+="\r\n",t+=EveryPointOnTPiece(modules[e]),t+="CLOSE",t+="\r\n",t+="ROTATE LAST SINGLE",t+="\r\n",t+=centerPointsTPiece(modules[e]),t+="\r\n",t+=TPieceRotation(modules[e]),t+="\r\n");return t}function MiddlePointsEverySegment(t){var e=(t.data.end.x-t.data.start.x)/2,n=(t.data.end.y-t.data.start.y)/2,r=(t.data.end.y-n)/gridSize*gridSizeInMM,o="";return o+=(t.data.end.x-e)/gridSize*gridSizeInMM+",",o+=-r}function StartPointEverySegment(t){var e=(t.data.end.x-t.data.start.x)/2,n=(t.data.end.y-t.data.start.y)/2,r=(t.data.end.y-n)/gridSize*gridSizeInMM,o="";return o+=(t.data.end.x-e)/gridSize*gridSizeInMM-30+",",o+=-(r+getSegLength(t.data)/2)}function LastPointEverySegment(t){var e=(t.data.end.x-t.data.start.x)/2,n=(t.data.end.y-t.data.start.y)/2,r=(t.data.end.y-n)/gridSize*gridSizeInMM,o="";return o+=(t.data.end.x-e)/gridSize*gridSizeInMM+30+",",o+=-(r-getSegLength(t.data)/2)}function EveryPointOnTPiece(t){var e="",n=t.data.point.x/gridSize*gridSizeInMM,r=-t.data.point.y/gridSize*gridSizeInMM;return e+=n-280+",",e+=r-30,e+="\r\n",e+=n-280+",",e+=r+30,e+="\r\n",e+=n+280+",",e+=r+30,e+="\r\n",e+=n+280+",",e+=r-30,e+="\r\n",e+=n+30+",",e+=r-30,e+="\r\n",e+=n+30+",",e+=r-590,e+="\r\n",e+=n-30+",",e+=r-590,e+="\r\n",e+=n-30+",",e+=r-30,e+="\r\n"}function centerPointsTPiece(t){var e="";return e+=t.data.point.x/gridSize*gridSizeInMM+",",e+=-t.data.point.y/gridSize*gridSizeInMM}function TPieceRotation(t){switch(t.data.t){case 1:return 0;case 0:return 90;case 3:return 180;case 2:return 270}}function EveryPointOnCorner(t){var e="",n=t.data.c.x/gridSize*gridSizeInMM,r=-t.data.c.y/gridSize*gridSizeInMM;return e+=n-560+",",e+=r-30,e+="\r\n",e+=n-560+",",e+=r+30,e+="\r\n",e+=n+30+",",e+=r+30,e+="\r\n",e+=n+30+",",e+=r-560,e+="\r\n",e+=n-30+",",e+=r-560,e+="\r\n",e+=n-30+",",e+=r-30,e+="\r\n"}function centerPointsCorners(t){var e="";return e+=t.data.c.x/gridSize*gridSizeInMM+",",e+=-t.data.c.y/gridSize*gridSizeInMM}function cornerRotation(t){switch(t.data.t){case 3:return 0;case 0:return 90;case 1:return 180;case 2:return 270}}function colorNumber(t){return"M"==t.path_type?6:"C"==t.path_type?4:2}function MoveAll(){var t=(modules[0].data.start.x-modules[0].data.end.x)/2,e=(modules[0].data.start.y-modules[0].data.end.y)/2,n="";return n+=-((modules[0].data.end.x-t)/gridSize*gridSizeInMM-30)+",",n+=(modules[0].data.end.y-e)/gridSize*gridSizeInMM-getSegLength(modules[0].data)/2}function OuterDimensions(){for(var t=normalizeSegArray(segsArray),e=t[0].end.x,n=t[0].start.x,r=t[0].end.y,o=t[0].start.y,a=0;a<t.length;a++)t[a].start.x<n&&(n=t[a].start.x),t[a].end.x>e&&(e=t[a].end.x),t[a].start.y<o&&(o=t[a].start.y),t[a].end.y>r&&(r=t[a].end.y);return(e-n)/gridSize*gridSizeInMM,(r-o)/gridSize*gridSizeInMM}window.addEventListener("resize",()=>{var t=$("#designContainer").width(),e=$("#designContainer").height();designStage.width(t),designStage.height(e)}),String.prototype.pad=function(t,e){t=t||2,e=e||"0";for(var n=0,r="";n<t-this.toString().length-e.length+1;n++)r+=e;return r+this};var etplg="data:image/jpeg;base64,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L2tleT4KCQkJCTxkYXRlPjIwMDgtMDMtMTFUMTQ6MTg6NTZaPC9kYXRlPgoJCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LnN0YXRlRmxhZzwva2V5PgoJCQkJPGludGVnZXI+MDwvaW50ZWdlcj4KCQkJPC9kaWN0PgoJCTwvYXJyYXk+Cgk8L2RpY3Q+Cgk8a2V5PmNvbS5hcHBsZS5wcmludC5QYWdlRm9ybWF0LlBNT3JpZW50YXRpb248L2tleT4KCTxkaWN0PgoJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jcmVhdG9yPC9rZXk+CgkJPHN0cmluZz5jb20uYXBwbGUucHJpbnRpbmdtYW5hZ2VyPC9zdHJpbmc+CgkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lml0ZW1BcnJheTwva2V5PgoJCTxhcnJheT4KCQkJPGRpY3Q+CgkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYWdlRm9ybWF0LlBNT3JpZW50YXRpb248L2tleT4KCQkJCTxpbnRlZ2VyPjE8L2ludGVnZXI+CgkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuY2xpZW50PC9rZXk+CgkJCQk8c3RyaW5nPmNvbS5hcHBsZS5wcmludGluZ21hbmFnZXI8L3N0cmluZz4KCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5tb2REYXRlPC9rZXk+CgkJCQk8ZGF0ZT4yMDA4LTAzLTExVDE0OjE4OjU2WjwvZGF0ZT4KCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5zdGF0ZUZsYWc8L2tleT4KCQkJCTxpbnRlZ2VyPjA8L2ludGVnZXI+CgkJCTwvZGljdD4KCQk8L2FycmF5PgoJPC9kaWN0PgoJPGtleT5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdC5QTVNjYWxpbmc8L2tleT4KCTxkaWN0PgoJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jcmVhdG9yPC9rZXk+CgkJPHN0cmluZz5jb20uYXBwbGUucHJpbnRpbmdtYW5hZ2VyPC9zdHJpbmc+CgkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lml0ZW1BcnJheTwva2V5PgoJCTxhcnJheT4KCQkJPGRpY3Q+CgkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYWdlRm9ybWF0LlBNU2NhbGluZzwva2V5PgoJCQkJPHJlYWw+MTwvcmVhbD4KCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jbGllbnQ8L2tleT4KCQkJCTxzdHJpbmc+Y29tLmFwcGxlLnByaW50aW5nbWFuYWdlcjwvc3RyaW5nPgoJCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lm1vZERhdGU8L2tleT4KCQkJCTxkYXRlPjIwMDgtMDMtMTFUMTQ6MTg6NTZaPC9kYXRlPgoJCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LnN0YXRlRmxhZzwva2V5PgoJCQkJPGludGVnZXI+MDwvaW50ZWdlcj4KCQkJPC9kaWN0PgoJCTwvYXJyYXk+Cgk8L2RpY3Q+Cgk8a2V5PmNvbS5hcHBsZS5wcmludC5QYWdlRm9ybWF0LlBNVmVydGljYWxSZXM8L2tleT4KCTxkaWN0PgoJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jcmVhdG9yPC9rZXk+CgkJPHN0cmluZz5jb20uYXBwbGUucHJpbnRpbmdtYW5hZ2VyPC9zdHJpbmc+CgkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lml0ZW1BcnJheTwva2V5PgoJCTxhcnJheT4KCQkJPGRpY3Q+CgkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYWdlRm9ybWF0LlBNVmVydGljYWxSZXM8L2tleT4KCQkJCTxyZWFsPjcyPC9yZWFsPgoJCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LmNsaWVudDwva2V5PgoJCQkJPHN0cmluZz5jb20uYXBwbGUucHJpbnRpbmdtYW5hZ2VyPC9zdHJpbmc+CgkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQubW9kRGF0ZTwva2V5PgoJCQkJPGRhdGU+MjAwOC0wMy0xMVQxNDoxODo1Nlo8L2RhdGU+CgkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuc3RhdGVGbGFnPC9rZXk+CgkJCQk8aW50ZWdlcj4wPC9pbnRlZ2VyPgoJCQk8L2RpY3Q+CgkJPC9hcnJheT4KCTwvZGljdD4KCTxrZXk+Y29tLmFwcGxlLnByaW50LlBhZ2VGb3JtYXQuUE1WZXJ0aWNhbFNjYWxpbmc8L2tleT4KCTxkaWN0PgoJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jcmVhdG9yPC9rZXk+CgkJPHN0cmluZz5jb20uYXBwbGUucHJpbnRpbmdtYW5hZ2VyPC9zdHJpbmc+CgkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lml0ZW1BcnJheTwva2V5PgoJCTxhcnJheT4KCQkJPGRpY3Q+CgkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYWdlRm9ybWF0LlBNVmVydGljYWxTY2FsaW5nPC9rZXk+CgkJCQk8cmVhbD4xPC9yZWFsPgoJCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LmNsaWVudDwva2V5PgoJCQkJPHN0cmluZz5jb20uYXBwbGUucHJpbnRpbmdtYW5hZ2VyPC9zdHJpbmc+CgkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQubW9kRGF0ZTwva2V5PgoJCQkJPGRhdGU+MjAwOC0wMy0xMVQxNDoxODo1Nlo8L2RhdGU+CgkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuc3RhdGVGbGFnPC9rZXk+CgkJCQk8aW50ZWdlcj4wPC9pbnRlZ2VyPgoJCQk8L2RpY3Q+CgkJPC9hcnJheT4KCTwvZGljdD4KCTxrZXk+Y29tLmFwcGxlLnByaW50LnN1YlRpY2tldC5wYXBlcl9pbmZvX3RpY2tldDwva2V5PgoJPGRpY3Q+CgkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdC5QTUFkanVzdGVkUGFnZVJlY3Q8L2tleT4KCQk8ZGljdD4KCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LmNyZWF0b3I8L2tleT4KCQkJPHN0cmluZz5jb20uYXBwbGUucHJpbnRpbmdtYW5hZ2VyPC9zdHJpbmc+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5pdGVtQXJyYXk8L2tleT4KCQkJPGFycmF5PgoJCQkJPGRpY3Q+CgkJCQkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdC5QTUFkanVzdGVkUGFnZVJlY3Q8L2tleT4KCQkJCQk8YXJyYXk+CgkJCQkJCTxyZWFsPjAuMDwvcmVhbD4KCQkJCQkJPHJlYWw+MC4wPC9yZWFsPgoJCQkJCQk8cmVhbD43ODM8L3JlYWw+CgkJCQkJCTxyZWFsPjU1OTwvcmVhbD4KCQkJCQk8L2FycmF5PgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jbGllbnQ8L2tleT4KCQkJCQk8c3RyaW5nPmNvbS5hcHBsZS5wcmludGluZ21hbmFnZXI8L3N0cmluZz4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQubW9kRGF0ZTwva2V5PgoJCQkJCTxkYXRlPjIwMDgtMDMtMTFUMTQ6MTg6NTZaPC9kYXRlPgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5zdGF0ZUZsYWc8L2tleT4KCQkJCQk8aW50ZWdlcj4wPC9pbnRlZ2VyPgoJCQkJPC9kaWN0PgoJCQk8L2FycmF5PgoJCTwvZGljdD4KCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYWdlRm9ybWF0LlBNQWRqdXN0ZWRQYXBlclJlY3Q8L2tleT4KCQk8ZGljdD4KCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LmNyZWF0b3I8L2tleT4KCQkJPHN0cmluZz5jb20uYXBwbGUucHJpbnRpbmdtYW5hZ2VyPC9zdHJpbmc+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5pdGVtQXJyYXk8L2tleT4KCQkJPGFycmF5PgoJCQkJPGRpY3Q+CgkJCQkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdC5QTUFkanVzdGVkUGFwZXJSZWN0PC9rZXk+CgkJCQkJPGFycmF5PgoJCQkJCQk8cmVhbD4tMTg8L3JlYWw+CgkJCQkJCTxyZWFsPi0xODwvcmVhbD4KCQkJCQkJPHJlYWw+ODI0PC9yZWFsPgoJCQkJCQk8cmVhbD41Nzc8L3JlYWw+CgkJCQkJPC9hcnJheT4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuY2xpZW50PC9rZXk+CgkJCQkJPHN0cmluZz5jb20uYXBwbGUucHJpbnRpbmdtYW5hZ2VyPC9zdHJpbmc+CgkJCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lm1vZERhdGU8L2tleT4KCQkJCQk8ZGF0ZT4yMDA4LTAzLTExVDE0OjE4OjU2WjwvZGF0ZT4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuc3RhdGVGbGFnPC9rZXk+CgkJCQkJPGludGVnZXI+MDwvaW50ZWdlcj4KCQkJCTwvZGljdD4KCQkJPC9hcnJheT4KCQk8L2RpY3Q+CgkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFwZXJJbmZvLlBNUGFwZXJOYW1lPC9rZXk+CgkJPGRpY3Q+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jcmVhdG9yPC9rZXk+CgkJCTxzdHJpbmc+Y29tLmFwcGxlLnByaW50LnBtLlBvc3RTY3JpcHQ8L3N0cmluZz4KCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lml0ZW1BcnJheTwva2V5PgoJCQk8YXJyYXk+CgkJCQk8ZGljdD4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYXBlckluZm8uUE1QYXBlck5hbWU8L2tleT4KCQkJCQk8c3RyaW5nPmlzby1hNDwvc3RyaW5nPgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jbGllbnQ8L2tleT4KCQkJCQk8c3RyaW5nPmNvbS5hcHBsZS5wcmludC5wbS5Qb3N0U2NyaXB0PC9zdHJpbmc+CgkJCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lm1vZERhdGU8L2tleT4KCQkJCQk8ZGF0ZT4yMDAzLTA3LTAxVDE3OjQ5OjM2WjwvZGF0ZT4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuc3RhdGVGbGFnPC9rZXk+CgkJCQkJPGludGVnZXI+MTwvaW50ZWdlcj4KCQkJCTwvZGljdD4KCQkJPC9hcnJheT4KCQk8L2RpY3Q+CgkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFwZXJJbmZvLlBNVW5hZGp1c3RlZFBhZ2VSZWN0PC9rZXk+CgkJPGRpY3Q+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jcmVhdG9yPC9rZXk+CgkJCTxzdHJpbmc+Y29tLmFwcGxlLnByaW50LnBtLlBvc3RTY3JpcHQ8L3N0cmluZz4KCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lml0ZW1BcnJheTwva2V5PgoJCQk8YXJyYXk+CgkJCQk8ZGljdD4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYXBlckluZm8uUE1VbmFkanVzdGVkUGFnZVJlY3Q8L2tleT4KCQkJCQk8YXJyYXk+CgkJCQkJCTxyZWFsPjAuMDwvcmVhbD4KCQkJCQkJPHJlYWw+MC4wPC9yZWFsPgoJCQkJCQk8cmVhbD43ODM8L3JlYWw+CgkJCQkJCTxyZWFsPjU1OTwvcmVhbD4KCQkJCQk8L2FycmF5PgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jbGllbnQ8L2tleT4KCQkJCQk8c3RyaW5nPmNvbS5hcHBsZS5wcmludGluZ21hbmFnZXI8L3N0cmluZz4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQubW9kRGF0ZTwva2V5PgoJCQkJCTxkYXRlPjIwMDgtMDMtMTFUMTQ6MTg6NTZaPC9kYXRlPgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5zdGF0ZUZsYWc8L2tleT4KCQkJCQk8aW50ZWdlcj4wPC9pbnRlZ2VyPgoJCQkJPC9kaWN0PgoJCQk8L2FycmF5PgoJCTwvZGljdD4KCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYXBlckluZm8uUE1VbmFkanVzdGVkUGFwZXJSZWN0PC9rZXk+CgkJPGRpY3Q+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jcmVhdG9yPC9rZXk+CgkJCTxzdHJpbmc+Y29tLmFwcGxlLnByaW50LnBtLlBvc3RTY3JpcHQ8L3N0cmluZz4KCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lml0ZW1BcnJheTwva2V5PgoJCQk8YXJyYXk+CgkJCQk8ZGljdD4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYXBlckluZm8uUE1VbmFkanVzdGVkUGFwZXJSZWN0PC9rZXk+CgkJCQkJPGFycmF5PgoJCQkJCQk8cmVhbD4tMTg8L3JlYWw+CgkJCQkJCTxyZWFsPi0xODwvcmVhbD4KCQkJCQkJPHJlYWw+ODI0PC9yZWFsPgoJCQkJCQk8cmVhbD41Nzc8L3JlYWw+CgkJCQkJPC9hcnJheT4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuY2xpZW50PC9rZXk+CgkJCQkJPHN0cmluZz5jb20uYXBwbGUucHJpbnRpbmdtYW5hZ2VyPC9zdHJpbmc+CgkJCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lm1vZERhdGU8L2tleT4KCQkJCQk8ZGF0ZT4yMDA4LTAzLTExVDE0OjE4OjU2WjwvZGF0ZT4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuc3RhdGVGbGFnPC9rZXk+CgkJCQkJPGludGVnZXI+MDwvaW50ZWdlcj4KCQkJCTwvZGljdD4KCQkJPC9hcnJheT4KCQk8L2RpY3Q+CgkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFwZXJJbmZvLnBwZC5QTVBhcGVyTmFtZTwva2V5PgoJCTxkaWN0PgoJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuY3JlYXRvcjwva2V5PgoJCQk8c3RyaW5nPmNvbS5hcHBsZS5wcmludC5wbS5Qb3N0U2NyaXB0PC9zdHJpbmc+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5pdGVtQXJyYXk8L2tleT4KCQkJPGFycmF5PgoJCQkJPGRpY3Q+CgkJCQkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFwZXJJbmZvLnBwZC5QTVBhcGVyTmFtZTwva2V5PgoJCQkJCTxzdHJpbmc+QTQ8L3N0cmluZz4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuY2xpZW50PC9rZXk+CgkJCQkJPHN0cmluZz5jb20uYXBwbGUucHJpbnQucG0uUG9zdFNjcmlwdDwvc3RyaW5nPgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5tb2REYXRlPC9rZXk+CgkJCQkJPGRhdGU+MjAwMy0wNy0wMVQxNzo0OTozNlo8L2RhdGU+CgkJCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LnN0YXRlRmxhZzwva2V5PgoJCQkJCTxpbnRlZ2VyPjE8L2ludGVnZXI+CgkJCQk8L2RpY3Q+CgkJCTwvYXJyYXk+CgkJPC9kaWN0PgoJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5BUElWZXJzaW9uPC9rZXk+CgkJPHN0cmluZz4wMC4yMDwvc3RyaW5nPgoJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5wcml2YXRlTG9jazwva2V5PgoJCTxmYWxzZS8+CgkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LnR5cGU8L2tleT4KCQk8c3RyaW5nPmNvbS5hcHBsZS5wcmludC5QYXBlckluZm9UaWNrZXQ8L3N0cmluZz4KCTwvZGljdD4KCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5BUElWZXJzaW9uPC9rZXk+Cgk8c3RyaW5nPjAwLjIwPC9zdHJpbmc+Cgk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQucHJpdmF0ZUxvY2s8L2tleT4KCTxmYWxzZS8+Cgk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQudHlwZTwva2V5PgoJPHN0cmluZz5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdFRpY2tldDwvc3RyaW5nPgo8L2RpY3Q+CjwvcGxpc3Q+CjhCSU0D6QAAAAAAeAADAAAASABIAAAAAAMPAi//7v/uAzgCQQNnBXsD4AACAAAASABIAAAAAALYAigAAQAAAGQAAAABAAMDAwAAAAF//wABAAEAAAAAAAAAAAAAAABoCAAZAZAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADhCSU0D7QAAAAAAEAEsAAAAAQACASwAAAABAAI4QklNBCYAAAAAAA4AAAAAAAAAAAAAP4AAADhCSU0EDQAAAAAABAAAAB44QklNBBkAAAAAAAQAAAAeOEJJTQPzAAAAAAAJAAAAAAAAAAABADhCSU0ECgAAAAAAAQAAOEJJTScQAAAAAAAKAAEAAAAAAAAAAjhCSU0D9QAAAAAASAAvZmYAAQBsZmYABgAAAAAAAQAvZmYAAQChmZoABgAAAAAAAQAyAAAAAQBaAAAABgAAAAAAAQA1AAAAAQAtAAAABgAAAAAAAThCSU0D+AAAAAAAcAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAA4QklNBAAAAAAAAAIAADhCSU0EAgAAAAAAAgAAOEJJTQQIAAAAAAAQAAAAAQAAAkAAAAJAAAAAADhCSU0EHgAAAAAABAAAAAA4QklNBBoAAAAAA0UAAAAGAAAAAAAAAAAAAAGxAAAE5AAAAAgATABBADAAMAA2AEQAMgAwAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAATkAAABsQAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAbnVsbAAAAAIAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAABsQAAAABSZ2h0bG9uZwAABOQAAAAGc2xpY2VzVmxMcwAAAAFPYmpjAAAAAQAAAAAABXNsaWNlAAAAEgAAAAdzbGljZUlEbG9uZwAAAAAAAAAHZ3JvdXBJRGxvbmcAAAAAAAAABm9yaWdpbmVudW0AAAAMRVNsaWNlT3JpZ2luAAAADWF1dG9HZW5lcmF0ZWQAAAAAVHlwZWVudW0AAAAKRVNsaWNlVHlwZQAAAABJbWcgAAAABmJvdW5kc09iamMAAAABAAAAAAAAUmN0MQAAAAQAAAAAVG9wIGxvbmcAAAAAAAAAAExlZnRsb25nAAAAAAAAAABCdG9tbG9uZwAAAbEAAAAAUmdodGxvbmcAAATkAAAAA3VybFRFWFQAAAABAAAAAAAAbnVsbFRFWFQAAAABAAAAAAAATXNnZVRFWFQAAAABAAAAAAAGYWx0VGFn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cy5hZG9iZS5jb20vaVgvMS4wLyI+DQoJCTxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSJ1dWlkOmMxN2QwMjZkLWYxMTAtMTFkYy1hZDA4LThlMTg2M2I4M2UzNSIgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPg0KCQkJPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+DQoJCQk8ZXhpZjpQaXhlbFhEaW1lbnNpb24+MTI1MjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+DQoJCQk8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NDMzPC9leGlmOlBpeGVsWURpbWVuc2lvbj4NCgkJPC9yZGY6RGVzY3JpcHRpb24+DQoJCTxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSJ1dWlkOmMxN2QwMjZkLWYxMTAtMTFkYy1hZDA4LThlMTg2M2I4M2UzNSIgeG1sbnM6cGRmPSJodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvIj4NCgkJPC9yZGY6RGVzY3JpcHRpb24+DQoJCTxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSJ1dWlkOmMxN2QwMjZkLWYxMTAtMTFkYy1hZDA4LThlMTg2M2I4M2UzNSIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIj4NCgkJCTxwaG90b3Nob3A6SGlzdG9yeT48L3Bob3Rvc2hvcDpIaXN0b3J5Pg0KCQk8L3JkZjpEZXNjcmlwdGlvbj4NCgkJPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9InV1aWQ6YzE3ZDAyNmQtZjExMC0xMWRjLWFkMDgtOGUxODYzYjgzZTM1IiB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+DQoJCQk8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4NCgkJCTx0aWZmOllSZXNvbHV0aW9uPjMwMC8xPC90aWZmOllSZXNvbHV0aW9uPg0KCQkJPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4NCgkJPC9yZGY6RGVzY3JpcHRpb24+DQoJCTxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSJ1dWlkOmMxN2QwMjZkLWYxMTAtMTFkYy1hZDA4LThlMTg2M2I4M2UzNSIgeG1sbnM6eGFwPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4NCgkJCTx4YXA6Q3JlYXRlRGF0ZT4yMDA4LTAzLTExVDE1OjE5OjA1KzAxOjAwPC94YXA6Q3JlYXRlRGF0ZT4NCgkJCTx4YXA6TW9kaWZ5RGF0ZT4yMDA4LTAzLTExVDE1OjE5OjA1KzAxOjAwPC94YXA6TW9kaWZ5RGF0ZT4NCgkJCTx4YXA6TWV0YWRhdGFEYXRlPjIwMDgtMDMtMTFUMTU6MTk6MDUrMDE6MDA8L3hhcDpNZXRhZGF0YURhdGU+DQoJCQk8eGFwOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDUyBNYWNpbnRvc2g8L3hhcDpDcmVhdG9yVG9vbD4NCgkJPC9yZGY6RGVzY3JpcHRpb24+DQoJCTxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSJ1dWlkOmMxN2QwMjZkLWYxMTAtMTFkYy1hZDA4LThlMTg2M2I4M2UzNSIgeG1sbnM6eGFwTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iPg0KCQkJPHhhcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmMxN2QwMjZjLWYxMTAtMTFkYy1hZDA4LThlMTg2M2I4M2UzNTwveGFwTU06RG9jdW1lbnRJRD4NCgkJPC9yZGY6RGVzY3JpcHRpb24+DQoJCTxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSJ1dWlkOmMxN2QwMjZkLWYxMTAtMTFkYy1hZDA4LThlMTg2M2I4M2UzNSIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4NCgkJCTxkYzpmb3JtYXQ+aW1hZ2UvanBlZzwvZGM6Zm9ybWF0Pg0KCQk8L3JkZjpEZXNjcmlwdGlvbj4NCgk8L3JkZjpSREY+DQo8L3g6eG1wbWV0YT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9J3cnPz7/4gxYSUNDX1BST0ZJTEUAAQEAAAxITGlubwIQAABtbnRyUkdCIFhZWiAHzgACAAkABgAxAABhY3NwTVNGVAAAAABJRUMgc1JHQgAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLUhQICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABFjcHJ0AAABUAAAADNkZXNjAAABhAAAAGx3dHB0AAAB8AAAABRia3B0AAACBAAAABRyWFlaAAACGAAAABRnWFlaAAACLAAAABRiWFlaAAACQAAAABRkbW5kAAACVAAAAHBkbWRkAAACxAAAAIh2dWVkAAADTAAAAIZ2aWV3AAAD1AAAACRsdW1pAAAD+AAAABRtZWFzAAAEDAAAACR0ZWNoAAAEMAAAAAxyVFJDAAAEPAAACAxnVFJDAAAEPAAACAxiVFJDAAAEPAAACAx0ZXh0AAAAAENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueQAAZGVz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";